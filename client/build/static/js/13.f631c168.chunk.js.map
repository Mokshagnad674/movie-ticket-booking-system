{"version":3,"sources":["pages/Public/Login/components/LoginForm.js","pages/Public/BookingPage/components/MovieInfo/MovieInfo.js","pages/Public/BookingPage/components/BookingForm/BookingForm.js","pages/Public/BookingPage/components/BookingSeats/BookingSeats.js","pages/Public/BookingPage/components/BookingCheckout/BookingCheckout.js","pages/Public/BookingPage/components/BookingInvitation/BookingInvitation.js","pages/Public/BookingPage/BookingPage.js","pages/Public/BookingPage/styles.js"],"names":["useStyles","makeStyles","theme","form","paddingLeft","paddingRight","paddingBottom","flexBasis","breakpoints","down","spacing","title","color","palette","common","contrastText","marginTop","socialLogin","margin","fields","textField","width","progress","display","marginLeft","marginRight","loginButton","register","text","secondary","registerUrl","primary","main","fontWeight","fieldError","danger","marginBottom","submitError","alignText","connect","state","isAuthenticated","authState","user","login","facebookLogin","googleLogin","props","redirect","classes","values","setValues","useState","username","password","useEffect","role","history","push","handleFieldChange","e","_objectSpread","target","name","value","React","createElement","className","Typography","variant","GoogleLogin","clientId","process","onSuccess","onFailure","cookiePolicy","render","renderProps","Button","onClick","disabled","fullWidth","style","borderRadius","background","height","fontSize","FacebookLogin","buttonStyle","appId","callback","TextField","label","onChange","event","type","size","Link","to","movieInfos","position","opacity","top","right","backgroundSize","backgroundPosition","backgroundRepeat","zIndex","textAlign","white","textTransform","info","padding","infoBox","minHeight","MovieInfo","movie","Grid","item","xs","md","lg","backgroundImage","concat","eternals","director","cast","genre","BookingForm","cinemas","showtimes","selectedCinema","onChangeCinema","selectedDate","onChangeDate","times","selectedTime","onChangeTime","showtime","find","cinemaId","length","container","select","map","cinema","MenuItem","key","_id","MuiPickersUtilsProvider","utils","MomentUtils","KeyboardDatePicker","inputVariant","id","minDate","Date","startDate","maxDate","endDate","date","_d","KeyboardButtonProps","time","index","Box","alignItems","justifyContent","align","row","seat","cursor","seatInfoContainer","seatInfo","seatInfoLabel","BookingSeats","seats","onSelectSeat","lockedSeats","Fragment","pt","seatRows","indexRow","bgcolor","mt","bannerTitle","bannerContent","hideOnSmall","BookingCheckout","ticketPrice","selectedSeats","seatsAvailable","onBookSeats","root","paper","gridContainer","successInfo","ignoreButton","convertToAlphabet","toString","toUpperCase","BookingInvitation","sendInvitations","ignore","invitations","onSetInvitation","onDownloadPDF","notValidInvitations","Object","keys","Paper","helperText","required","BookingPage","Component","constructor","arguments","socket","setupSocket","this","showtimeId","io","setState","emit","on","_ref","locks","_ref2","seatKey","by","prev","_ref3","n","_ref4","didSetSuggestion","jsPdfGenerator","QRCode","doc","jsPDF","setFont","setFontType","setFontSize","toLocaleDateString","addImage","save","setSelectedSeats","newSeats","col","onGetReservedSeats","reservations","filteredReservations","filter","reservation","startAt","reduce","a","b","forEach","_ref5","onGetSuggestedSeats","suggestedSeats","numberOfTickets","positions","positionsArray","String","sort","every","step","Math","round","suggested","indexArr","checkSeats","getSeat","i","seatNum","Number","statusAvailability","y","Boolean","setSuggestedSeats","setSelectedCinema","setSelectedDate","setSelectedTime","async","createInvitations","token","localStorage","getItem","url","fetch","method","headers","Authorization","body","JSON","stringify","ok","resetCheckout","setAlert","status","message","error","host","toDateString","image","inv","setSuggestionSeats","suggestedSeat","componentDidMount","match","getMovie","getCinemas","getCinemasUserModeling","getShowtimes","getReservations","getSuggestedReservationSeats","params","componentDidUpdate","prevProps","getCinema","isAuth","addReservation","toggleLoginPopup","showInvitationForm","setQRCode","response","bookSeats","total","movieId","phone","data","onFilterCinema","initialReturn","uniqueCinemas","uniqueTimes","uniqueCinemasId","self","indexOf","includes","showLoginPopup","showInvitation","setInvitation","Container","maxWidth","checkout","ResponsiveDialog","open","handleClose","LoginForm","mapDispatchToProps","mapStateToProps","_ref6","ownProps","movieState","cinemaState","showtimeState","reservationState","checkoutState","selectedMovie","withStyles","paddingTop"],"mappings":"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","file":"static/js/13.f631c168.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, TextField, Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport FacebookLogin from 'react-facebook-login';\nimport GoogleLogin from 'react-google-login';\nimport { login, facebookLogin, googleLogin } from '../../../../store/actions';\nimport { history } from '../../../../utils';\n\nconst useStyles = makeStyles(theme => ({\n  form: {\n    paddingLeft: '100px',\n    paddingRight: '100px',\n    paddingBottom: '125px',\n    flexBasis: '700px',\n    [theme.breakpoints.down('sm')]: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }\n  },\n  title: {\n    color: theme.palette.common.contrastText,\n    marginTop: theme.spacing(3)\n  },\n  socialLogin: {\n    margin: theme.spacing(4, 0)\n  },\n  fields: {\n    marginTop: theme.spacing(2)\n  },\n  textField: {\n    width: '100%',\n    '& + & ': {\n      marginTop: theme.spacing(2)\n    }\n  },\n  progress: {\n    display: 'block',\n    marginTop: theme.spacing(2),\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  loginButton: {\n    marginTop: theme.spacing(2),\n    width: '100%'\n  },\n  register: {\n    marginTop: theme.spacing(2),\n    color: theme.palette.text.secondary\n  },\n  registerUrl: {\n    color: theme.palette.primary.main,\n    fontWeight: 'bold',\n    '&:hover': {\n      color: theme.palette.primary.main\n    }\n  },\n  fieldError: {\n    color: theme.palette.danger.main,\n    marginBottom: theme.spacing(2),\n    marginTop: theme.spacing(1)\n  },\n  submitError: {\n    color: theme.palette.danger.main,\n    alignText: 'center',\n    marginBottom: theme.spacing(1),\n    marginTop: theme.spacing(2)\n  }\n}));\n\nfunction LoginForm(props) {\n  const { facebookLogin, googleLogin, isAuthenticated, user, redirect } = props;\n  const classes = useStyles();\n  const [values, setValues] = useState({ username: '', password: '' });\n\n  useEffect(() => {\n    if (isAuthenticated && redirect) {\n      if (user && user.role === 'superadmin')\n        return history.push('/admin/dashboard');\n      return history.push('/');\n    }\n  }, [isAuthenticated, user, redirect]);\n\n  const handleFieldChange = e =>\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value\n    });\n\n  return (\n    <form className={classes.form}>\n      <Typography className={classes.title} variant=\"h2\">\n        Sign in\n      </Typography>\n\n      <div className={classes.socialLogin}>\n        <GoogleLogin\n          clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\n          onSuccess={googleLogin}\n          onFailure={googleLogin}\n          cookiePolicy={'single_host_origin'}\n          render={renderProps => (\n            <Button\n              onClick={renderProps.onClick}\n              disabled={renderProps.disabled}\n              fullWidth\n              variant=\"contained\"\n              style={{\n                borderRadius: 0,\n                background: '#fff',\n                color: '#de5246',\n                marginBottom: 10,\n                height: 60,\n                fontSize: 'calc(.27548vw + 12.71074px)',\n                fontWeight: 700\n              }}>\n              Login With Google\n            </Button>\n          )}\n        />\n        <FacebookLogin\n          buttonStyle={{ width: '100%', height: 60 }}\n          appId={process.env.REACT_APP_FACEBOOK_APP_ID} //APP ID NOT CREATED YET\n          fields=\"name,email,picture\"\n          callback={facebookLogin}\n        />\n      </div>\n\n      <div className={classes.fields}>\n        <TextField\n          className={classes.textField}\n          label=\"username\"\n          name=\"username\"\n          onChange={event => handleFieldChange(event)}\n          type=\"text\"\n          value={values.username}\n          variant=\"outlined\"\n        />\n        <TextField\n          className={classes.textField}\n          label=\"Password\"\n          name=\"password\"\n          onChange={event => handleFieldChange(event)}\n          type=\"password\"\n          value={values.password}\n          variant=\"outlined\"\n        />\n      </div>\n\n      <Button\n        className={classes.loginButton}\n        color=\"primary\"\n        onClick={() => props.login(values.username, values.password)}\n        size=\"large\"\n        variant=\"contained\">\n        Login now\n      </Button>\n      <Typography className={classes.register} variant=\"body1\">\n        Don't have an account?\n        <Link className={classes.registerUrl} to=\"/register\">\n          register\n        </Link>\n      </Typography>\n    </form>\n  );\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.authState.isAuthenticated,\n  user: state.authState.user\n});\nexport default connect(mapStateToProps, { login, facebookLogin, googleLogin })(\n  LoginForm\n);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Typography } from '@material-ui/core';\nconst useStyles = makeStyles(theme => ({\n  movieInfos: {\n    background: 'rgba(57, 61, 67, 0.5)',\n    position: 'relative',\n    height: '100%'\n  },\n  background: {\n    position: 'absolute',\n    opacity: 0.4,\n    top: 0,\n    height: '70%',\n    right: 0,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    width: '100%',\n    zIndex: 1\n  },\n  title: {\n    position: 'absolute',\n    top: '60%',\n    right: 0,\n    width: '100%',\n    textAlign: 'center',\n    color: theme.palette.common.white,\n    fontSize: '24px',\n    textTransform: 'capitalize',\n    zIndex: 2\n  },\n  info: {\n    position: 'absolute',\n    padding: theme.spacing(5),\n    top: '70%',\n    right: 0,\n    width: '100%'\n  },\n  infoBox: {\n    color: theme.palette.common.white,\n    marginBottom: theme.spacing(2)\n  },\n  [theme.breakpoints.down('md')]: {\n    movieInfos: { minHeight: '30vh' },\n    background: { height: '100%' },\n    title: { top: '80%' },\n    info: { display: 'none' }\n  }\n}));\n\nexport default function MovieInfo(props) {\n  const classes = useStyles(props);\n  const { movie } = props;\n  const images ={eternals:'https://phantom-marca.unidadeditorial.es/927e619e34b67b9e7326c9266914e6f0/crop/68x0/1311x700/resize/1320/f/jpg/assets/multimedia/imagenes/2021/08/20/16294695683527.jpg','spider man-no way home':'https://images.indianexpress.com/2021/11/spider-man-no-way-home-new-poster-1200.jpg','avengers-infinity war':'https://pyxis.nymag.com/v1/imgs/8b3/ac6/ca28ec3072fdc00a5b59a72a75a39ab61b-20-avengers-lede.rsquare.w700.jpg','doctor strange-multiverse of madness':'https://m.media-amazon.com/images/I/818x-d2qUuL.jpg','wakanda forever':'https://thumbor.forbes.com/thumbor/fit-in/1200x0/filters%3Aformat%28jpg%29/https%3A%2F%2Fblogs-images.forbes.com%2Fscottmendelson%2Ffiles%2F2017%2F10%2FDMQuyI5V4AAUHP0.jpg'};\n\n  if (!movie) return <h1>Movie Loading...</h1>;\n\n  return (\n    <Grid item xs={12} md={12} lg={3}>\n      <div className={classes.movieInfos}>\n        <div\n          className={classes.background}\n          style={{\n            backgroundImage: `url(${images[movie.title]})`\n          }}\n        />\n        <Typography className={classes.title}>{movie.title}</Typography>\n        <div className={classes.info}>\n          {movie.director && (\n            <div className={classes.infoBox}>\n              <Typography variant=\"subtitle1\" color=\"inherit\">\n                Director\n              </Typography>\n              <Typography variant=\"caption\" color=\"inherit\">\n                {movie.director}\n              </Typography>\n            </div>\n          )}\n          {movie.cast && (\n            <div className={classes.infoBox}>\n              <Typography variant=\"subtitle1\" color=\"inherit\">\n                Cast\n              </Typography>\n              <Typography variant=\"caption\" color=\"inherit\">\n                {movie.cast}\n              </Typography>\n            </div>\n          )}\n          {movie.genre && (\n            <div className={classes.infoBox}>\n              <Typography variant=\"subtitle1\" color=\"inherit\">\n                Genre\n              </Typography>\n              <Typography variant=\"caption\" color=\"inherit\">\n                {movie.genre}\n              </Typography>\n            </div>\n          )}\n        </div>\n      </div>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { Grid, Box, TextField, MenuItem, Typography } from '@material-ui/core';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker\n} from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\n\nexport default function BookingForm(props) {\n  const {\n    cinemas,\n    showtimes,\n    selectedCinema,\n    onChangeCinema,\n    selectedDate,\n    onChangeDate,\n    times,\n    selectedTime,\n    onChangeTime\n  } = props;\n\n  const showtime = showtimes.find(\n    showtime => showtime.cinemaId === selectedCinema\n  );\n\n  if (!cinemas.length)\n    return (\n      <Box\n        display=\"flex\"\n        width={1}\n        height={1}\n        alignItems=\"center\"\n        justifyContent=\"center\">\n        <Typography align=\"center\" variant=\"h2\" color=\"inherit\">\n          No Cinema Available.\n        </Typography>\n      </Box>\n    );\n\n  return (\n    <Grid container spacing={3}>\n      <Grid item xs>\n        <TextField\n          fullWidth\n          select\n          value={selectedCinema}\n          label=\"Select Cinema\"\n          variant=\"outlined\"\n          onChange={onChangeCinema}>\n          {cinemas.map(cinema => (\n            <MenuItem key={cinema._id} value={cinema._id}>\n              {cinema.name}\n            </MenuItem>\n          ))}\n        </TextField>\n      </Grid>\n      {showtime && (\n        <Grid item xs>\n          <MuiPickersUtilsProvider utils={MomentUtils}>\n            <KeyboardDatePicker\n              inputVariant=\"outlined\"\n              margin=\"none\"\n              fullWidth\n              id=\"start-date\"\n              label=\"Start Date\"\n              minDate={new Date(showtime.startDate)}\n              maxDate={new Date(showtime.endDate)}\n              value={selectedDate}\n              onChange={date => onChangeDate(date._d)}\n              KeyboardButtonProps={{\n                'aria-label': 'change date'\n              }}\n            />\n          </MuiPickersUtilsProvider>\n        </Grid>\n      )}\n      {selectedDate && (\n        <Grid item xs>\n          <TextField\n            fullWidth\n            select\n            value={selectedTime}\n            label=\"Select Time\"\n            variant=\"outlined\"\n            onChange={onChangeTime}>\n            {times.map((time, index) => (\n              <MenuItem key={time + '-' + index} value={time}>\n                {time}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n","import React, { Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box } from '@material-ui/core';\nconst useStyles = makeStyles(theme => ({\n  row: {\n    display: 'flex',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  seat: {\n    cursor: 'pointer',\n    color: 'rgba(255,255,255,0.7)',\n    borderRadius: 2,\n    padding: theme.spacing(2),\n    margin: theme.spacing(0.5),\n    fontWeight: 600,\n    '&:hover': {\n      background: 'rgb(120, 205, 4)'\n    }\n  },\n  seatInfoContainer: {\n    width: '50%',\n    margin: 'auto',\n    display: 'flex',\n    alignItems: 'center',\n    textAlign: 'center',\n    color: '#eee'\n  },\n\n  seatInfo: { marginRight: theme.spacing(2) },\n\n  seatInfoLabel: {\n    marginRight: theme.spacing(1),\n    display: 'inline-block',\n    width: 10,\n    height: 10\n  },\n\n  [theme.breakpoints.down('sm')]: {\n    seat: { padding: theme.spacing(1.2), margin: theme.spacing(0.5) },\n    seatInfoContainer: { width: '100%', display: 'block' },\n    seatInfo: { marginTop: theme.spacing(2) }\n  }\n}));\n\nexport default function BookingSeats(props) {\n  const classes = useStyles(props);\n  const { seats, onSelectSeat, lockedSeats = {} } = props;\n\n  return (\n    <Fragment>\n      <Box width={1} pt={15}>\n        {seats.length > 0 &&\n          seats.map((seatRows, indexRow) => (\n            <div key={indexRow} className={classes.row}>\n              {seatRows.map((seat, index) => (\n                <Box\n                  key={`seat-${index}`}\n                  onClick={() => { const key = `${indexRow}-${index}`; if (!lockedSeats[key] || seat===2) onSelectSeat(indexRow, index); }}\n                  className={classes.seat}\n                  bgcolor={\n                    (()=>{ const key = `${indexRow}-${index}`; if (lockedSeats[key] && seat !== 2) return 'rgb(96, 93, 169)'; return seat === 1 ? 'rgb(65, 66, 70)' : seat === 2 ? 'rgb(120, 205, 4)' : seat === 3 ? 'rgb(14, 151, 218)' : 'rgb(96, 93, 169)'; })()\n                  }>\n                  {index + 1}\n                </Box>\n              ))}\n            </div>\n          ))}\n      </Box>\n      <Box width={1} mt={10}>\n        <div className={classes.seatInfoContainer}>\n          <div className={classes.seatInfo}>\n            <div\n              className={classes.seatInfoLabel}\n              style={{ background: 'rgb(96, 93, 169)' }}></div>\n            Seat Available\n          </div>\n          <div className={classes.seatInfo}>\n            <div\n              className={classes.seatInfoLabel}\n              style={{ background: 'rgb(65, 66, 70)' }}></div>\n            Reserved Seat\n          </div>\n          <div className={classes.seatInfo}>\n            <div\n              className={classes.seatInfoLabel}\n              style={{ background: 'rgb(120, 205, 4)' }}></div>\n            Selected Seat\n          </div>\n          <div className={classes.seatInfo}>\n            <div\n              className={classes.seatInfoLabel}\n              style={{ background: 'rgb(14, 151, 218)' }}></div>\n            Recommended Seat\n          </div>\n        </div>\n      </Box>\n    </Fragment>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Grid, Typography, Button } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  bannerTitle: {\n    fontSize: theme.spacing(1.4),\n    textTransform: 'uppercase',\n    color: 'rgb(93, 93, 97)',\n    marginBottom: theme.spacing(1)\n  },\n  bannerContent: {\n    fontSize: theme.spacing(2),\n    textTransform: 'capitalize',\n    color: theme.palette.common.white\n  },\n  [theme.breakpoints.down('sm')]: {\n    hideOnSmall: {\n      display: 'none'\n    }\n  }\n}));\n\nexport default function BookingCheckout(props) {\n  const classes = useStyles(props);\n  const {\n    user,\n    ticketPrice,\n    selectedSeats,\n    seatsAvailable,\n    onBookSeats\n  } = props;\n\n  return (\n    <Box marginTop={2} bgcolor=\"rgb(18, 20, 24)\">\n      <Grid container>\n        <Grid item xs={8} md={10}>\n          <Grid container spacing={3} style={{ padding: 20 }}>\n            {user && user.name && (\n              <Grid item className={classes.hideOnSmall}>\n                <Typography className={classes.bannerTitle}>Name</Typography>\n                <Typography className={classes.bannerContent}>\n                  {user.name}\n                </Typography>\n              </Grid>\n            )}\n            <Grid item>\n              <Typography className={classes.bannerTitle}>Tickets</Typography>\n              {selectedSeats > 0 ? (\n                <Typography className={classes.bannerContent}>\n                  {selectedSeats} tickets\n                </Typography>\n              ) : (\n                <Typography className={classes.bannerContent}>0</Typography>\n              )}\n            </Grid>\n            <Grid item>\n              <Typography className={classes.bannerTitle}>Price</Typography>\n              <Typography className={classes.bannerContent}>\n                {ticketPrice * selectedSeats} &euro;\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={4}\n          md={2}\n          style={{\n            color: 'rgb(120, 205, 4)',\n            background: 'black',\n            display: 'flex'\n          }}>\n          <Button\n            color=\"inherit\"\n            fullWidth\n            disabled={seatsAvailable <= 0}\n            onClick={() => onBookSeats()}>\n            Checkout\n          </Button>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography, TextField, Grid, Button, Box } from '@material-ui/core';\nimport { Paper } from '../../../../../components';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: theme.spacing(3)\n  },\n  paper: { padding: theme.spacing(4) },\n  gridContainer: {\n    marginTop: theme.spacing(4)\n  },\n  successInfo: { margin: theme.spacing(3) },\n  ignoreButton: {\n    marginLeft: theme.spacing(3)\n  }\n}));\n\nconst convertToAlphabet = value => (value + 10).toString(36).toUpperCase();\n\nexport default function BookingInvitation(props) {\n  const classes = useStyles(props);\n  const {\n    selectedSeats,\n    sendInvitations,\n    ignore,\n    invitations,\n    onSetInvitation,\n    onDownloadPDF\n  } = props;\n\n  const notValidInvitations = !Object.keys(invitations).length;\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <Typography variant=\"h4\" align=\"center\">\n          Guest Invitation\n        </Typography>\n        <Typography\n          className={classes.successInfo}\n          variant=\"body1\"\n          align=\"center\">\n          You have successfuly booked your seats. Please fill the emails below,\n          to send invitations to your friends!\n        </Typography>\n        <Box width={1} textAlign=\"center\">\n          <Button\n            color=\"primary\"\n            variant=\"outlined\"\n            onClick={() => onDownloadPDF()}>\n            Download Pass\n          </Button>\n        </Box>\n        <Grid className={classes.gridContainer} container spacing={3}>\n          {selectedSeats.map((seat, index) => (\n            <Grid item xs={12} md={6} lg={4} key={'seat-' + index}>\n              <TextField\n                fullWidth\n                label=\"email\"\n                name={`${convertToAlphabet(seat[0])}-${seat[1]}`}\n                helperText={`Please select an Email for Row : ${convertToAlphabet(\n                  seat[0]\n                )} - Seat Number : ${seat[1]}`}\n                margin=\"dense\"\n                required\n                value={\n                  invitations[`${convertToAlphabet(seat[0])}-${seat[1]}`] || ''\n                }\n                variant=\"outlined\"\n                onChange={event => onSetInvitation(event)}\n              />\n            </Grid>\n          ))}\n          <Grid item xs={12} container>\n            <Grid item>\n              <Button\n                disabled={notValidInvitations}\n                color=\"primary\"\n                variant=\"outlined\"\n                onClick={() => sendInvitations()}>\n                Send Invitations\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                className={classes.ignoreButton}\n                color=\"secondary\"\n                variant=\"outlined\"\n                onClick={() => ignore()}>\n                Ignore\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withStyles, Grid, Container } from '@material-ui/core';\nimport {\n  getMovie,\n  getCinemasUserModeling,\n  getCinema,\n  getCinemas,\n  getShowtimes,\n  getReservations,\n  getSuggestedReservationSeats,\n  setSelectedSeats,\n  setSelectedCinema,\n  setSelectedDate,\n  setSelectedTime,\n  setInvitation,\n  toggleLoginPopup,\n  showInvitationForm,\n  resetCheckout,\n  setAlert,\n  addReservation,\n  setSuggestedSeats,\n  setQRCode\n} from '../../../store/actions';\nimport { ResponsiveDialog } from '../../../components';\nimport LoginForm from '../Login/components/LoginForm';\nimport styles from './styles';\nimport MovieInfo from './components/MovieInfo/MovieInfo';\nimport BookingForm from './components/BookingForm/BookingForm';\nimport BookingSeats from './components/BookingSeats/BookingSeats';\nimport BookingCheckout from './components/BookingCheckout/BookingCheckout';\nimport BookingInvitation from './components/BookingInvitation/BookingInvitation';\n\nimport jsPDF from 'jspdf';\nimport io from 'socket.io-client';\n\nclass BookingPage extends Component {\n  state = { lockedSeats: {}, socket: null };\n\n  setupSocket = () => {\n    const { selectedTime, selectedDate, cinema, user } = this.props;\n    const showtimeId = this.props.showtimes && this.props.showtimes.length ? this.props.showtimes[0]._id : null;\n    const socket = io();\n    this.setState({ socket });\n    socket.emit('join', { showtimeId, username: (user && user.username) || 'guest' });\n    socket.on('locksSnapshot', ({ locks }) => {\n      this.setState({ lockedSeats: locks || {} });\n    });\n    socket.on('seatLocked', ({ seatKey, by }) => {\n      this.setState(prev => ({ lockedSeats: { ...prev.lockedSeats, [seatKey]: { by } } }));\n    });\n    socket.on('seatUnlocked', ({ seatKey }) => {\n      this.setState(prev => { const n = { ...prev.lockedSeats }; delete n[seatKey]; return { lockedSeats: n }; });\n    });\n    socket.on('seatsBooked', ({ seats }) => {\n      // no-op here; booking API already updates UI via redux fetch\n    });\n  };\n\n  didSetSuggestion = false;\n\n  componentDidMount() {\n    this.setupSocket();\n    const {\n      user,\n      match,\n      getMovie,\n      getCinemas,\n      getCinemasUserModeling,\n      getShowtimes,\n      getReservations,\n      getSuggestedReservationSeats\n    } = this.props;\n    getMovie(match.params.id);\n    user ? getCinemasUserModeling(user.username) : getCinemas();\n    getShowtimes();\n    getReservations();\n    if (user) getSuggestedReservationSeats(user.username);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { selectedCinema, selectedDate, getCinema } = this.props;\n    if (\n      (selectedCinema && prevProps.selectedCinema !== selectedCinema) ||\n      (selectedCinema && prevProps.selectedDate !== selectedDate)\n    ) {\n      getCinema(selectedCinema);\n    }\n  }\n\n  // JSpdf Generator For generating the PDF\n  jsPdfGenerator = () => {\n    const { movie, cinema, selectedDate, selectedTime, QRCode } = this.props;\n    const doc = new jsPDF();\n    doc.setFont('helvetica');\n    doc.setFontType('bold');\n    doc.setFontSize(22);\n    doc.text(movie.title, 20, 20);\n    doc.setFontSize(16);\n    doc.text(cinema.name, 20, 30);\n    doc.text(\n      `Date: ${new Date(\n        selectedDate\n      ).toLocaleDateString()} - Time: ${selectedTime}`,\n      20,\n      40\n    );\n    doc.addImage(QRCode, 'JPEG', 15, 40, 160, 160);\n    doc.save(`${movie.title}-${cinema.name}.pdf`);\n  };\n\n  onSelectSeat = (row, seat) => {\n    const { cinema, setSelectedSeats } = this.props;\n    const seats = [...cinema.seats];\n    const newSeats = [...seats];\n    if (seats[row][seat] === 1) {\n      newSeats[row][seat] = 1;\n    } else if (seats[row][seat] === 2) {\n      newSeats[row][seat] = 0;\n    } else if (seats[row][seat] === 3) {\n      newSeats[row][seat] = 2;\n    } else {\n      newSeats[row][seat] = 2;\n    }\n    setSelectedSeats([row, seat]);\n    const { socket } = this.state; if (socket) { const showtimeId = (this.props.showtimes && this.props.showtimes.length) ? this.props.showtimes[0]._id : null; if (seats[row][seat] === 2) { socket.emit('unlockSeat', { showtimeId, row, col: seat }); } else { socket.emit('lockSeat', { showtimeId, row, col: seat }); } }\n  };\n\n  async checkout() {\n    const {\n      movie,\n      cinema,\n      selectedSeats,\n      selectedDate,\n      selectedTime,\n      getReservations,\n      isAuth,\n      user,\n      addReservation,\n      toggleLoginPopup,\n      showInvitationForm,\n      setQRCode\n    } = this.props;\n\n    if (selectedSeats.length === 0) return;\n    if (!isAuth) return toggleLoginPopup();\n\n    const response = await addReservation({\n      date: selectedDate,\n      startAt: selectedTime,\n      seats: this.bookSeats(),\n      ticketPrice: cinema.ticketPrice,\n      total: selectedSeats.length * cinema.ticketPrice,\n      movieId: movie._id,\n      cinemaId: cinema._id,\n      username: user.username,\n      phone: user.phone\n    });\n    if (response.status === 'success') {\n      const { data } = response;\n      setQRCode(data.QRCode);\n      getReservations();\n      showInvitationForm();\n    }\n  }\n\n  bookSeats() {\n    const { cinema, selectedSeats } = this.props;\n    const seats = [...cinema.seats];\n\n    if (selectedSeats.length === 0) return;\n\n    const bookedSeats = seats\n      .map(row =>\n        row.map((seat, i) => (seat === 2 ? i : -1)).filter(seat => seat !== -1)\n      )\n      .map((seats, i) => (seats.length ? seats.map(seat => [i, seat]) : -1))\n      .filter(seat => seat !== -1)\n      .reduce((a, b) => a.concat(b));\n\n    return bookedSeats;\n  }\n\n  onFilterCinema() {\n    const { cinemas, showtimes, selectedCinema, selectedTime } = this.props;\n    const initialReturn = { uniqueCinemas: [], uniqueTimes: [] };\n    if (!showtimes || !cinemas) return initialReturn;\n\n    const uniqueCinemasId = showtimes\n      .filter(showtime =>\n        selectedTime ? showtime.startAt === selectedTime : true\n      )\n      .map(showtime => showtime.cinemaId)\n      .filter((value, index, self) => self.indexOf(value) === index);\n\n    const uniqueCinemas = cinemas.filter(cinema =>\n      uniqueCinemasId.includes(cinema._id)\n    );\n\n    const uniqueTimes = showtimes\n      .filter(showtime =>\n        selectedCinema ? selectedCinema === showtime.cinemaId : true\n      )\n      .map(showtime => showtime.startAt)\n      .filter((value, index, self) => self.indexOf(value) === index)\n      .sort(\n        (a, b) => new Date('1970/01/01 ' + a) - new Date('1970/01/01 ' + b)\n      );\n\n    return { ...initialReturn, uniqueCinemas, uniqueTimes };\n  }\n\n  onGetReservedSeats = () => {\n    const { reservations, cinema, selectedDate, selectedTime } = this.props;\n\n    if (!cinema) return [];\n    const newSeats = [...cinema.seats];\n\n    const filteredReservations = reservations.filter(\n      reservation =>\n        new Date(reservation.date).toLocaleDateString() ===\n          new Date(selectedDate).toLocaleDateString() &&\n        reservation.startAt === selectedTime\n    );\n    if (filteredReservations.length && selectedDate && selectedTime) {\n      const reservedSeats = filteredReservations\n        .map(reservation => reservation.seats)\n        .reduce((a, b) => a.concat(b));\n      reservedSeats.forEach(([row, seat]) => (newSeats[row][seat] = 1));\n      return newSeats;\n    }\n    return newSeats;\n  };\n\n  onGetSuggestedSeats = (seats, suggestedSeats) => {\n    const { numberOfTickets, positions } = suggestedSeats;\n\n    const positionsArray = Object.keys(positions).map(key => {\n      return [String(key), positions[key]];\n    });\n\n    positionsArray.sort((a, b) => {\n      return b[1] - a[1];\n    });\n\n    if (positionsArray.every(position => position[1] === 0)) return;\n\n    const step = Math.round(seats.length / 3);\n    let indexArr = [];\n    let suggested;\n    for (let position of positionsArray) {\n      switch (position[0]) {\n        case 'front':\n          indexArr = [0, step];\n          suggested = this.checkSeats(indexArr, seats, numberOfTickets);\n          break;\n        case 'center':\n          indexArr = [step, step * 2];\n          suggested = this.checkSeats(indexArr, seats, numberOfTickets);\n          break;\n        case 'back':\n          indexArr = [step * 2, step * 3];\n          suggested = this.checkSeats(indexArr, seats, numberOfTickets);\n          break;\n        default:\n          break;\n      }\n      if (suggested) this.getSeat(suggested, seats, numberOfTickets);\n      break;\n    }\n  };\n\n  checkSeats = (indexArr, seats, numberOfTickets) => {\n    for (let i = indexArr[0]; i < indexArr[1]; i++) {\n      for (let seat in seats[i]) {\n        let seatNum = Number(seat);\n\n        if (\n          !seats[i][seatNum] &&\n          seatNum + (numberOfTickets - 1) <= seats[i].length\n        ) {\n          let statusAvailability = [];\n          for (let y = 1; y < numberOfTickets; y++) {\n            //check the next seat if available\n            if (!seats[i][seatNum + y]) {\n              statusAvailability.push(true);\n            } else {\n              statusAvailability.push(false);\n            }\n          }\n          if (statusAvailability.every(Boolean)) return [i, seatNum];\n        }\n      }\n    }\n    return null;\n  };\n\n  getSeat = (suggested, seats, numberOfTickets) => {\n    const { setSuggestedSeats } = this.props;\n    for (let i = suggested[1]; i < suggested[1] + numberOfTickets; i++) {\n      const seat = [suggested[0], i];\n      setSuggestedSeats(seat);\n    }\n  };\n\n  onChangeCinema = event => this.props.setSelectedCinema(event.target.value);\n  onChangeDate = date => this.props.setSelectedDate(date);\n  onChangeTime = event => this.props.setSelectedTime(event.target.value);\n\n  sendInvitations = async () => {\n    const invitations = this.createInvitations();\n    if (!invitations) return;\n    try {\n      const token = localStorage.getItem('jwtToken');\n      const url = '/invitations';\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(invitations)\n      });\n      if (response.ok) {\n        this.props.resetCheckout();\n        this.props.setAlert('invitations Send', 'success', 5000);\n        return { status: 'success', message: 'invitations Send' };\n      }\n    } catch (error) {\n      this.props.setAlert(error.message, 'error', 5000);\n      return {\n        status: 'error',\n        message: ' invitations have not send, try again.'\n      };\n    }\n  };\n\n  createInvitations = () => {\n    const {\n      user,\n      movie,\n      cinema,\n      selectedDate,\n      selectedTime,\n      invitations\n    } = this.props;\n\n    const invArray = Object.keys(invitations)\n      .map(key => ({\n        to: invitations[key],\n        host: user.name,\n        movie: movie.title,\n        time: selectedTime,\n        date: new Date(selectedDate).toDateString(),\n        cinema: cinema.name,\n        image: cinema.image,\n        seat: key\n      }))\n      .filter(inv => inv.to !== '');\n    return invArray;\n  };\n\n  setSuggestionSeats = (seats, suggestedSeats) => {\n    suggestedSeats.forEach(suggestedSeat => {\n      seats[suggestedSeat[0]][suggestedSeat[1]] = 3;\n    });\n    return seats;\n  };\n\n  render() {\n    const {\n      classes,\n      user,\n      movie,\n      cinema,\n      showtimes,\n      selectedSeats,\n      selectedCinema,\n      selectedDate,\n      selectedTime,\n      showLoginPopup,\n      toggleLoginPopup,\n      showInvitation,\n      invitations,\n      setInvitation,\n      resetCheckout,\n      suggestedSeats,\n      suggestedSeat\n    } = this.props;\n    const { uniqueCinemas, uniqueTimes } = this.onFilterCinema();\n    let seats = this.onGetReservedSeats();\n    if (suggestedSeats && selectedTime && !suggestedSeat.length) {\n      this.onGetSuggestedSeats(seats, suggestedSeats);\n    }\n    if (suggestedSeat.length && !this.didSetSuggestion) {\n      seats = this.setSuggestionSeats(seats, suggestedSeat);\n      this.didSetSuggestion = true;\n    }\n\n    return (\n      <Container maxWidth=\"xl\" className={classes.container}>\n        <Grid container spacing={2} style={{ height: '100%' }}>\n          <MovieInfo movie={movie} />\n          <Grid item lg={9} xs={12} md={12}>\n            <BookingForm\n              cinemas={uniqueCinemas}\n              times={uniqueTimes}\n              showtimes={showtimes}\n              selectedCinema={selectedCinema}\n              selectedDate={selectedDate}\n              selectedTime={selectedTime}\n              onChangeCinema={this.onChangeCinema}\n              onChangeDate={this.onChangeDate}\n              onChangeTime={this.onChangeTime}\n            />\n            {showInvitation && !!selectedSeats.length && (\n              <BookingInvitation\n                selectedSeats={selectedSeats}\n                sendInvitations={this.sendInvitations}\n                ignore={resetCheckout}\n                invitations={invitations}\n                onSetInvitation={setInvitation}\n                onDownloadPDF={this.jsPdfGenerator}\n              />\n            )}\n\n            {cinema && selectedCinema && selectedTime && !showInvitation && (\n              <>\n                <BookingSeats\n                  seats={seats} lockedSeats={this.state.lockedSeats}\n                  onSelectSeat={(indexRow, index) =>\n                    this.onSelectSeat(indexRow, index)\n                  }\n                />\n                <BookingCheckout\n                  user={user}\n                  ticketPrice={cinema.ticketPrice}\n                  seatsAvailable={cinema.seatsAvailable}\n                  selectedSeats={selectedSeats.length}\n                  onBookSeats={() => this.checkout()}\n                />\n              </>\n            )}\n          </Grid>\n        </Grid>\n        <ResponsiveDialog\n          id=\"Edit-cinema\"\n          open={showLoginPopup}\n          handleClose={() => toggleLoginPopup()}\n          maxWidth=\"sm\">\n          <LoginForm />\n        </ResponsiveDialog>\n      </Container>\n    );\n  }\n}\n\nBookingPage.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (\n  {\n    authState,\n    movieState,\n    cinemaState,\n    showtimeState,\n    reservationState,\n    checkoutState\n  },\n  ownProps\n) => ({\n  isAuth: authState.isAuthenticated,\n  user: authState.user,\n  movie: movieState.selectedMovie,\n  cinema: cinemaState.selectedCinema,\n  cinemas: cinemaState.cinemas,\n  showtimes: showtimeState.showtimes.filter(\n    showtime => showtime.movieId === ownProps.match.params.id\n  ),\n  reservations: reservationState.reservations,\n  selectedSeats: checkoutState.selectedSeats,\n  suggestedSeat: checkoutState.suggestedSeat,\n  selectedCinema: checkoutState.selectedCinema,\n  selectedDate: checkoutState.selectedDate,\n  selectedTime: checkoutState.selectedTime,\n  showLoginPopup: checkoutState.showLoginPopup,\n  showInvitation: checkoutState.showInvitation,\n  invitations: checkoutState.invitations,\n  QRCode: checkoutState.QRCode,\n  suggestedSeats: reservationState.suggestedSeats\n});\n\nconst mapDispatchToProps = {\n  getMovie,\n  getCinema,\n  getCinemasUserModeling,\n  getCinemas,\n  getShowtimes,\n  getReservations,\n  getSuggestedReservationSeats,\n  addReservation,\n  setSelectedSeats,\n  setSuggestedSeats,\n  setSelectedCinema,\n  setSelectedDate,\n  setSelectedTime,\n  setInvitation,\n  toggleLoginPopup,\n  showInvitationForm,\n  resetCheckout,\n  setAlert,\n  setQRCode\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(BookingPage));\n","export default theme => ({\n  container: { height: '100%', paddingTop: theme.spacing(10) },\n  [theme.breakpoints.down('md')]: {\n    root: { height: '100%' }\n  }\n});\n"],"sourceRoot":""}