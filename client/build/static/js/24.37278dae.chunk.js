(this["webpackJsonpmoviestore-client"]=this["webpackJsonpmoviestore-client"]||[]).push([[24],{399:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),l=t(66),c=t(212),o=t(226),r=t(227),m=t(193),s=t(109),d=t(141),v=t(189),E=t(190),g=t(403),u=t(404),y=t(386),p=t(400),h=t(401),b=t(258),C=t(402),k=t(103),f=t(20),w=t(27),x=t(79),B=t(80),N=t(81);const S=Object(k.a)(e=>({root:{padding:e.spacing(3)},card:{height:"100%",display:"flex",flexDirection:"column"},cardContent:{flexGrow:1},statCard:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",color:"white"},revenueCard:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",color:"white"},bookingCard:{background:"linear-gradient(45deg, #4CAF50 30%, #8BC34A 90%)",color:"white"},cinemaCard:{background:"linear-gradient(45deg, #FF9800 30%, #FFC107 90%)",color:"white"},quickAction:{margin:e.spacing(1)},sectionTitle:{marginBottom:e.spacing(2),fontWeight:"bold"}})),A={getMovies:x.d,getCinemas:B.d,getReservations:N.b};a.default=Object(w.b)(e=>{let{movieState:a,cinemaState:t,reservationState:n}=e;return{movies:a.movies,cinemas:t.cinemas,reservations:n.reservations}},A)(e=>{let{movies:a,cinemas:t,reservations:k,getMovies:w,getCinemas:x,getReservations:B}=e;const N=S();Object(n.useEffect)(()=>{a.length||w(),t.length||x(),k.length||B()},[a,t,k,w,x,B]);const[A,F]=Object(n.useState)({totalMovies:0,totalCinemas:0,todayBookings:0,monthlyRevenue:0});Object(n.useEffect)(()=>{(()=>{const e=(null===a||void 0===a?void 0:a.length)||0,n=(null===t||void 0===t?void 0:t.length)||0,i=(null===k||void 0===k?void 0:k.filter(e=>new Date(e.date).toDateString()===(new Date).toDateString()).length)||0,l=(null===k||void 0===k?void 0:k.reduce((e,a)=>e+(a.total||0),0))||0;F({totalMovies:e,totalCinemas:n,todayBookings:i,monthlyRevenue:l})})()},[a,t,k]);const M=(null===k||void 0===k?void 0:k.slice(0,5))||[],j=[{title:"Add New Movie",link:"/admin/create-movie",icon:i.a.createElement(p.a,null),color:"primary"},{title:"Add New Cinema",link:"/admin/create-cinema",icon:i.a.createElement(h.a,null),color:"primary"},{title:"View Movies",link:"/admin/movies",icon:i.a.createElement(p.a,null),color:"secondary"},{title:"View Cinemas",link:"/admin/cinemas",icon:i.a.createElement(h.a,null),color:"default"}];return i.a.createElement("div",{className:N.root},i.a.createElement(l.a,{variant:"h4",gutterBottom:!0},"Admin Dashboard"),i.a.createElement(l.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0},"Welcome back! Here's what's happening with your cinemas today."),i.a.createElement(c.a,{container:!0,spacing:3,style:{marginBottom:"2rem"}},i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(o.a,{className:"".concat(N.card," ").concat(N.statCard)},i.a.createElement(r.a,{className:N.cardContent},i.a.createElement(m.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},i.a.createElement(m.a,null,i.a.createElement(l.a,{variant:"h4"},A.totalMovies),i.a.createElement(l.a,{variant:"body2"},"Total Movies")),i.a.createElement(p.a,{style:{fontSize:40,opacity:.7}}))))),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(o.a,{className:"".concat(N.card," ").concat(N.cinemaCard)},i.a.createElement(r.a,{className:N.cardContent},i.a.createElement(m.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},i.a.createElement(m.a,null,i.a.createElement(l.a,{variant:"h4"},A.totalCinemas),i.a.createElement(l.a,{variant:"body2"},"Active Cinemas")),i.a.createElement(h.a,{style:{fontSize:40,opacity:.7}}))))),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(o.a,{className:"".concat(N.card," ").concat(N.bookingCard)},i.a.createElement(r.a,{className:N.cardContent},i.a.createElement(m.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},i.a.createElement(m.a,null,i.a.createElement(l.a,{variant:"h4"},A.todayBookings),i.a.createElement(l.a,{variant:"body2"},"Today's Bookings")),i.a.createElement(b.a,{style:{fontSize:40,opacity:.7}}))))),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(o.a,{className:"".concat(N.card," ").concat(N.revenueCard)},i.a.createElement(r.a,{className:N.cardContent},i.a.createElement(m.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},i.a.createElement(m.a,null,i.a.createElement(l.a,{variant:"h4"},"\u20b9",A.monthlyRevenue.toLocaleString()),i.a.createElement(l.a,{variant:"body2"},"Monthly Revenue")),i.a.createElement(C.a,{style:{fontSize:40,opacity:.7}})))))),i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(s.a,{style:{padding:"1.5rem"}},i.a.createElement(l.a,{variant:"h6",className:N.sectionTitle},"Quick Actions"),i.a.createElement(c.a,{container:!0,spacing:2},j.map((e,a)=>i.a.createElement(c.a,{item:!0,xs:12,sm:6,key:a},i.a.createElement(d.a,{component:f.b,to:e.link,variant:"outlined",color:e.color,fullWidth:!0,startIcon:e.icon,className:N.quickAction},e.title)))))),i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(s.a,{style:{padding:"1.5rem"}},i.a.createElement(l.a,{variant:"h6",className:N.sectionTitle},"Recent Bookings"),i.a.createElement(v.a,null,M.length>0?M.map(e=>{var a,t;return i.a.createElement(E.a,{key:e._id,divider:!0},i.a.createElement(g.a,null,i.a.createElement(b.a,null)),i.a.createElement(u.a,{primary:(null===(a=e.movieId)||void 0===a?void 0:a.title)||"Movie",secondary:"".concat((null===(t=e.cinemaId)||void 0===t?void 0:t.name)||"Cinema"," \u2022 ").concat(e.showtime||"Time")}),i.a.createElement(y.a,{label:"Confirmed",color:"primary",size:"small"}))}):i.a.createElement(E.a,null,i.a.createElement(u.a,{primary:"No recent bookings",secondary:"Bookings will appear here once customers start booking tickets"}))),i.a.createElement(m.a,{mt:2},i.a.createElement(d.a,{component:f.b,to:"/admin/reservations",variant:"outlined",fullWidth:!0},"View All Bookings"))))))})}}]);