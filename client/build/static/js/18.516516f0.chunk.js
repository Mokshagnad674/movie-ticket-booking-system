(this["webpackJsonpmoviestore-client"]=this["webpackJsonpmoviestore-client"]||[]).push([[18,20],{239:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n);t.default=()=>l.a.createElement("div",{style:{padding:"2rem"}},l.a.createElement("h2",null,"Theatre Owner Account Page"),l.a.createElement("p",null,"This is a placeholder for account settings and details."))},408:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(0),l=a.n(n),r=a(28),s=a(97),i=a(246),c=a(216),o=a(60),m=a(62),g=a(8),h=a.n(g),u=a(7),p=a(398),d=a(399),v=a(400),E=a(401),P=a(402),f=a(412),b=a(72);class w extends n.Component{constructor(){super(...arguments),this.state={rowsPerPage:10,page:0},this.handleChangePage=(e,t)=>{this.setState({page:t})},this.handleChangeRowsPerPage=e=>{this.setState({rowsPerPage:e.target.value})},this.onFindAttr=(e,t,a)=>{const n=t.find(t=>t._id===e);return n?n[a]:"Not ".concat(a," Found")}}render(){const{classes:e,className:t,reservations:a,movies:n,cinemas:r}=this.props,{rowsPerPage:s,page:i}=this.state,c=h()(e.root,t);return l.a.createElement(b.c,{className:c},l.a.createElement(b.d,{noPadding:!0},l.a.createElement(p.a,null,l.a.createElement(d.a,null,l.a.createElement(v.a,null,l.a.createElement(E.a,{align:"left"},"Movie"),l.a.createElement(E.a,{align:"left"},"Cinema"),l.a.createElement(E.a,{align:"left"},"Date"),l.a.createElement(E.a,{align:"left"},"Start At"),l.a.createElement(E.a,{align:"left"},"Ticket Price"),l.a.createElement(E.a,{align:"left"},"Total"))),l.a.createElement(P.a,null,a.slice(i*s,i*s+s).map(t=>l.a.createElement(v.a,{className:e.tableRow,hover:!0,key:t._id},l.a.createElement(E.a,{className:e.tableCell},this.onFindAttr(t.movieId,n,"title")),l.a.createElement(E.a,{className:e.tableCell},this.onFindAttr(t.cinemaId,r,"name")),l.a.createElement(E.a,{className:e.tableCell},new Date(t.date).toLocaleDateString()),l.a.createElement(E.a,{className:e.tableCell},t.startAt),l.a.createElement(E.a,{className:e.tableCell},t.ticketPrice),l.a.createElement(E.a,{className:e.tableCell},t.total))))),l.a.createElement(f.a,{backIconButtonProps:{"aria-label":"Previous Page"},component:"div",count:a.length,nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,page:i,rowsPerPage:s,rowsPerPageOptions:[5,10,25]})))}}w.defaultProps={reservations:[],movies:[],cinemas:[],onSelect:()=>{},onShowDetails:()=>{}};var C=Object(u.a)(e=>({root:{},tableRow:{height:"64px"},tableCell:{whiteSpace:"nowrap"},tableCellInner:{display:"flex",alignItems:"center"},avatar:{backgroundColor:e.palette.primary.main,display:"inline-flex",fontSize:"14px",fontWeight:500,height:"36px",width:"36px"},nameText:{display:"inline-block",marginLeft:e.spacing(2),fontWeight:500,cursor:"pointer"}}))(w),x=a(239);const N=Object(s.a)(e=>({title:{fontSize:"3rem",lineHeight:"3rem",textAlign:"center",textTransform:"capitalize",marginTop:e.spacing(15),marginBottom:e.spacing(3)},[e.breakpoints.down("sm")]:{fullWidth:{width:"100%"}}}));const S={getMovies:m.h,getReservations:m.i,getCinemas:m.d};var k=Object(r.b)(e=>{let{authState:t,movieState:a,reservationState:n,cinemaState:l}=e;return{user:t.user,movies:a.movies,reservations:n.reservations,cinemas:l.cinemas}},S)((function(e){const{user:t,reservations:a,movies:r,cinemas:s,getMovies:m,getReservations:g,getCinemas:h}=e;Object(n.useEffect)(()=>{m(),g(),h()},[m,g,h]);const u=N(e),p=a.filter(e=>e.username===t.username);return console.log(p),l.a.createElement(i.a,null,l.a.createElement(c.a,{container:!0,spacing:2},!!p.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{item:!0,xs:12},l.a.createElement(o.a,{className:u.title,variant:"h2",color:"inherit"},"My Reservations")),l.a.createElement(c.a,{item:!0,xs:12},l.a.createElement(C,{reservations:p,movies:r,cinemas:s}))),l.a.createElement(c.a,{item:!0,xs:12},l.a.createElement(o.a,{className:u.title,variant:"h2",color:"inherit"},"My Account")),l.a.createElement(c.a,{item:!0,xs:12},l.a.createElement(x.default,null))))}))}}]);
//# sourceMappingURL=18.516516f0.chunk.js.map