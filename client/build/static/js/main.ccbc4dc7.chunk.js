(this["webpackJsonpmoviestore-client"]=this["webpackJsonpmoviestore-client"]||[]).push([[4],{118:function(e,t,a){e.exports=a(137)},135:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),s=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(191),i=a(27),l=a(34),d=a(94),u=a(95),m=a(4),p=a(2);const g={alerts:[],showAlert:!1},h=(e,t)=>{let{payload:a}=t;return Object(m.a)(Object(m.a)({},e),{},{alerts:[...e.alerts,a],showAlert:!0})},b=(e,t)=>{let{payload:a}=t;return Object(m.a)(Object(m.a)({},e),{},{alerts:[...e.alerts].filter(e=>e.id!==a),showAlert:!1})};const f={token:localStorage.getItem("jwtToken"),isAuthenticated:null,loading:!0,user:null};const y={users:[],selectedUsers:[],openDialog:!1},v=e=>Object(m.a)(Object(m.a)({},e),{},{openDialog:!e.openDialog}),E=(e,t)=>{const{selectedUsers:a}=e,n=a.indexOf(t);let o=[];return-1===n?o=o.concat(a,t):0===n?o=o.concat(a.slice(1)):n===a.length-1?o=o.concat(a.slice(0,-1)):n>0&&(o=o.concat(a.slice(0,n),a.slice(n+1))),Object(m.a)(Object(m.a)({},e),{},{selectedUsers:o})},j=e=>Object(m.a)(Object(m.a)({},e),{},{selectedUsers:e.selectedUsers.length?[]:e.users.map(e=>e._id)}),O=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{users:t}),w=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{users:[...e.users,t]}),S=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{users:[...e.users.filter(e=>e._id!==t._id),t]}),T=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{users:e.users.filter(e=>e._id!==t),selectedUsers:e.selectedUsers.filter(e=>e!==t)});const k={movies:[],randomMovie:null,latestMovies:[],nowShowing:[],comingSoon:[],selectedMovie:null,suggested:[]},x=(e,t)=>{const a=t.sort((e,t)=>Date.parse(t.releaseDate)-Date.parse(e.releaseDate)).slice(0,5),n=new Date,o=t.filter(e=>new Date(e.endDate)>=n&&new Date(e.releaseDate)<=n),r=t.filter(e=>new Date(e.releaseDate)>n);return Object(m.a)(Object(m.a)({},e),{},{movies:t,randomMovie:t[Math.floor(Math.random()*t.length)],latestMovies:a,nowShowing:o,comingSoon:r})},C=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{selectedMovie:t}),N=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{suggested:t});const I={cinemas:[],selectedCinema:null},L=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{cinemas:t}),D=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{selectedCinema:t});const A={reservations:[]},R=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{reservations:t}),_=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{suggestedSeats:t});const z={showtimes:[],selectedShowtimes:[],openDialog:!1},P=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{showtimes:t}),F=e=>Object(m.a)(Object(m.a)({},e),{},{openDialog:!e.openDialog}),G=(e,t)=>{const{selectedShowtimes:a}=e,n=a.indexOf(t);let o=[];return-1===n?o=o.concat(a,t):0===n?o=o.concat(a.slice(1)):n===a.length-1?o=o.concat(a.slice(0,-1)):n>0&&(o=o.concat(a.slice(0,n),a.slice(n+1))),Object(m.a)(Object(m.a)({},e),{},{selectedShowtimes:o})},B=e=>Object(m.a)(Object(m.a)({},e),{},{selectedShowtimes:e.selectedShowtimes.length?[]:e.showtimes.map(e=>e._id)}),M=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{selectedShowtimes:e.selectedShowtimes.filter(e=>e!==t)});const U={selectedSeats:[],suggestedSeat:[],selectedCinema:"",selectedDate:null,selectedTime:"",showLoginPopup:!1,showInvitation:!1,invitations:{},QRCode:""},W=(e,t)=>{let a=[];return a=e.selectedSeats.find(e=>JSON.stringify(e)===JSON.stringify(t))?e.selectedSeats.filter(e=>JSON.stringify(e)!==JSON.stringify(t)):[...e.selectedSeats,t],Object(m.a)(Object(m.a)({},e),{},{selectedSeats:a})},J=(e,t)=>{let a=[];return a=[...e.suggestedSeat,t],Object(m.a)(Object(m.a)({},e),{},{suggestedSeat:a})},H=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{selectedCinema:t}),q=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{selectedDate:t}),V=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{selectedTime:t}),$=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{invitations:Object(m.a)(Object(m.a)({},e.invitations),{},{[t.target.name]:t.target.value})}),Y=(e,t)=>Object(m.a)(Object(m.a)({},e),{},{QRCode:t}),Q=e=>Object(m.a)(Object(m.a)({},e),{},{showLoginPopup:!e.showLoginPopup}),X=e=>Object(m.a)(Object(m.a)({},e),{},{showInvitation:!e.showInvitation}),K=()=>U;var Z=Object(l.combineReducers)({alertState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;const{type:a}=t;switch(a){case p.y:return h(e,t);case p.r:return b(e,t);default:return e}},authState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case p.L:return Object(m.a)(Object(m.a)({},e),{},{user:n,isAuthenticated:!0,loading:!1});case p.q:case p.n:return localStorage.setItem("jwtToken",n.token),Object(m.a)(Object(m.a)(Object(m.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case p.p:case p.m:case p.b:case p.o:return localStorage.removeItem("jwtToken"),f;default:return e}},userState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case p.l:return O(e,n);case p.J:return v(e);case p.x:return E(e,n);case p.u:return j(e);case p.a:return w(e,n);case p.K:return S(e,n);case p.d:return T(e,n);default:return e}},movieState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case p.g:return x(e,n);case p.v:return C(e,n);case p.k:return N(e,n);default:return e}},cinemaState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case p.f:return L(e,n);case p.e:return D(e,n);default:return e}},reservationState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case p.h:return R(e,n);case p.i:return _(e,n);default:return e}},showtimeState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case p.j:return P(e,n);case p.H:return F(e);case p.w:return G(e,n);case p.t:return B(e);case p.c:return M(e,n);default:return e}},checkoutState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:n}=t;switch(a){case p.D:return W(e,n);case p.F:return J(e,n);case p.B:return H(e,n);case p.C:return q(e,n);case p.E:return V(e,n);case p.z:return $(e,n);case p.I:return Q(e);case p.G:return X(e);case p.A:return Y(e,n);case p.s:return K();default:return e}}});const ee=[u.a];var te=Object(l.createStore)(Z,{},Object(d.composeWithDevTools)(Object(l.applyMiddleware)(...ee))),ae=a(40),ne=a(108),oe=a(168),re=a(169),se=a(170),ce=a(171),ie=a(61);var le={type:"dark",common:{black:"#000",white:"#FFF",commonBackground:"rgb(45, 45, 45)",contrastText:"#FFF",neutral:"#E4E7EB",muted:"#9EA0A4"},default:{light:"rgba(41, 150, 243, .1)",main:"rgba(0, 40, 73, .9)",dark:"rgb(0, 40, 73)",logoBg:"rgb(51, 51, 51)",border:"rgba(0, 40, 73, .1)",contrastText:"#FFF"},primary:{light:oe.a[300],main:oe.a[500],dark:oe.a[700],contrastText:"#FFF"},success:{light:re.a[300],main:re.a[500],dark:re.a[700],contrastText:"#FFF"},info:{light:se.a[300],main:se.a[500],dark:se.a[700],contrastText:"#FFF"},warning:{light:ce.a[300],main:ce.a[500],dark:ce.a[700],contrastText:"#FFF"},danger:{light:ie.a[300],main:ie.a[500],dark:ie.a[700],contrastText:"#FFF"},background:{paper:"rgb(45, 45, 45)",default:"rgb(26, 26, 26)",dark:"rgb(26, 26, 26)"},border:"#DFE3E8",divider:"#DFE3E8",oxfordBlue:"rgba(5, 41, 73, 1)",prussianBlue:"rgba(19, 49, 92, 1)",darkCerulean:"rgba(19, 64, 116, 1)",pewterBlue:"rgba(141, 169, 196, 1)",isabelline:"rgba(238, 244, 237, 1)"},de={useNextVariants:!0,fontSize:11,fontFamily:["Montserrat","sans-serif","Helvetica Neue","Arial"].join(",")};var ue=Object(ne.a)({palette:le,typography:de,zIndex:{appBar:1200,drawer:1100},topBar:{height:"56px"}}),me=a(69),pe=a(20),ge=a(38),he=a(54),be=a(13);const fe=["layout","component","isAuthenticated","user"],ye=e=>{let{layout:t,component:a,isAuthenticated:n,user:r}=e,s=Object(be.a)(e,fe);return o.a.createElement(ge.b,Object.assign({},s,{render:e=>n?e.location.pathname.startsWith("/admin")&&"admin"!==(null===r||void 0===r?void 0:r.role)?o.a.createElement(ge.a,{to:{pathname:"/",state:{from:e.location}}}):o.a.createElement(t,null,o.a.createElement(a,e)):o.a.createElement(ge.a,{to:{pathname:"/login",state:{from:e.location}}})}))};ye.defaultProps={isAuthenticated:!1,user:null};var ve=Object(i.b)(e=>({isAuthenticated:e.authState.isAuthenticated,user:e.authState.user}))(ye);const Ee=["layout","component","layoutProps"];var je=e=>{const{layout:t,component:a,layoutProps:n}=e,r=Object(be.a)(e,Ee);return o.a.createElement(ge.b,Object.assign({},r,{render:e=>o.a.createElement(t,n,o.a.createElement(a,e))}))},Oe=a(193),we=a(141),Se=a(185);const Te={logout:ae.p};var ke=Object(i.b)(null,Te)(e=>{let{children:t,logout:a}=e;return o.a.createElement("div",{style:{padding:"2rem"}},o.a.createElement(Oe.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},o.a.createElement("h2",null,"Admin Dashboard"),o.a.createElement(we.a,{variant:"outlined",color:"secondary",startIcon:o.a.createElement(Se.a,null),onClick:()=>{a(),window.location.href="/login"}},"Logout")),o.a.createElement("div",null,t))}),xe=a(103),Ce=a(186),Ne=a(66),Ie=Object(xe.a)(e=>({root:{padding:e.spacing(4),background:e.palette.background.default,color:e.palette.contrastText},copyright:{marginTop:e.spacing(2),marginBottom:e.spacing(.5)}}));function Le(){const e=Ie();return o.a.createElement("div",{className:e.root},o.a.createElement(Ce.a,null),o.a.createElement(Ne.a,{className:e.copyright,variant:"body1"},"\xa9 Movie Store 2024"),o.a.createElement(Ne.a,{variant:"caption"},"Your Ultimate Movie Booking Experience"))}var De=a(9),Ae=a.n(De),Re=a(189),_e=a(190),ze=a(8),Pe=a(188),Fe=a(187),Ge=a(107),Be=a.n(Ge);function Me(e){const[t,a]=o.a.useState(null);const n=Boolean(t),r=n?"simple-popover":void 0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Fe.a,{"aria-describedby":r,onClick:function(e){a(e.currentTarget)}},o.a.createElement(Be.a,{fontSize:"large"})),o.a.createElement(Pe.a,{id:r,open:n,anchorEl:t,onClose:function(){a(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e.children))}class Ue extends n.Component{constructor(){super(...arguments),this.state={showMenu:!1,scrollPos:window.pageYOffset},this.handleScroll=()=>{this.setState({scrollPos:window.pageYOffset})}}componentDidMount(){window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{showMenu:e,scrollPos:t}=this.state,{classes:a,isAuth:r,user:s,logout:c}=this.props;return o.a.createElement(n.Fragment,null,o.a.createElement("nav",{className:Ae()({[a.navbar]:!0,[a.navbarColor]:t>30})},o.a.createElement(pe.b,{className:a.logoLink,to:"/"},o.a.createElement(Ne.a,{className:a.logo,variant:"h2"},"Movie Store")),o.a.createElement("div",{className:a.navLinks},o.a.createElement(pe.b,{className:a.navLink,to:"/"},"Home"),o.a.createElement(pe.b,{className:a.navLink,to:"/cinemas"},"Cinemas")),o.a.createElement("div",{className:a.navAccount},o.a.createElement(Me,{logout:c},o.a.createElement(Re.a,{component:"nav"},s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_e.a,null,o.a.createElement(pe.b,{className:a.navLink,to:"guest"!==s.role?"/admin/dashboard":"/mydashboard"},"Dashboard")),"guest"===s.role&&o.a.createElement(_e.a,null,o.a.createElement(pe.b,{className:a.navLink,to:"/mydashboard"},"My Bookings"))),r?o.a.createElement(_e.a,null,o.a.createElement(pe.b,{className:a.navLink,onClick:c,to:"/"},"Logout")):o.a.createElement(_e.a,null,o.a.createElement(pe.b,{className:a.navLink,to:"/login"},"Login"))))),o.a.createElement("div",{className:a.navMobile},o.a.createElement("div",{className:a.navIcon,onClick:()=>this.setState({showMenu:!this.state.showMenu})},o.a.createElement("div",{className:Ae()(a.navIconLine,a.navIconLine__left)}),o.a.createElement("div",{className:a.navIconLine}),o.a.createElement("div",{className:Ae()(a.navIconLine,a.navIconLine__right)})))),o.a.createElement("div",{className:Ae()({[a.navActive]:e,[a.nav]:!0})},o.a.createElement("div",{className:a.navContent},o.a.createElement("div",{className:a.currentPageShadow},"Movies"),o.a.createElement("ul",{className:a.innerNav,onClick:()=>this.setState({showMenu:!this.state.showMenu})},o.a.createElement("li",{className:a.innerNavListItem},o.a.createElement(pe.b,{className:a.innerNavLink,to:"/"},"Home")),o.a.createElement("li",{className:a.innerNavListItem},o.a.createElement(pe.b,{className:a.innerNavLink,to:"/cinemas"},"Cinemas")),s&&"guest"===s.role&&o.a.createElement("li",{className:a.innerNavListItem},o.a.createElement(pe.b,{className:a.innerNavLink,to:"/mydashboard"},"My Bookings"))))))}}const We={logout:ae.p};var Je=Object(i.b)(e=>({isAuth:e.authState.isAuthenticated,user:e.authState.user}),We)(Object(ze.a)(e=>({navbar:{position:"fixed",top:0,left:0,width:"100%",padding:"1.25rem 20px",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",transform:"translate3d(0,0,0)",backfaceVisibility:"hidden",zIndex:999,transition:"all 300ms ease-in"},navbarColor:{background:e.palette.background.dark,transition:"all 200ms ease-out"},logoLink:{display:"inline-block",paddingTop:".15rem",paddingBottom:".15rem",marginRight:"20px",fontSize:"1.5rem",lineHeight:"inherit",whiteSpace:"nowrap",textDecoration:"none"},logo:{maxHeight:"2.4rem",width:"auto",fontSize:"2rem",letterSpacing:"1px",color:e.palette.common.white},navLinks:{marginLeft:"auto",display:"flex"},navLink:{position:"relative",color:e.palette.common.white,padding:"0 .5rem",margin:"0 1rem",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",textDecoration:"none",zIndex:2,"&:after":{content:'""',position:"absolute",bottom:0,left:0,width:"100%",opacity:0,height:0,backgroundColor:"rgba(255,255,255,0.5)",transition:"all 200ms linear",zIndex:1},"&:hover:after":{opacity:1,height:"9px"}},navAccount:{marginLeft:"auto",marginRight:e.spacing(3)},navMobile:{marginRight:e.spacing(1)},navIcon:{display:"none",height:"30px",width:"30px",position:"relative",zIndex:2,cursor:"pointer","&:hover $navIconLine__left, &:hover $navIconLine__right":{width:"30px"}},navIconLine:{height:"2px",width:"30px",display:"block",backgroundColor:e.palette.common.white,marginBottom:"7px",transition:" transform .2s ease, background-color .5s ease"},navIconLine__left:{width:"20px",transition:"all 200ms linear"},navIconLine__right:{width:"20px",transition:"all 200ms linear"},nav:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:-1,paddingLeft:0,marginBottom:0,"&:before, &:after":{content:'""',position:"fixed",width:"100vw",height:"100vh",background:"rgba(255, 255, 255, 0.1)",zIndex:"-1",transition:"transform cubic-bezier(0.77, 0, 0.175, 1) 0.8s",transform:"translateX(0%) translateY(-100%)"},"&:before":{background:e.palette.common.black,transitionDelay:"0s"},"&:after":{transitionDelay:".1s"}},navActive:{visibility:"visible",zIndex:9,"&:before":{transitionDelay:"0s",transform:"translateX(0%) translateY(0%)"},"&:after":{transitionDelay:".1s",transform:"translateX(0%) translateY(0%)"},"& $navContent":{visibility:"visible"},"& $navContent $currentPageShadow":{transitionDelay:".5s",opacity:.03,marginTop:"0"},"& $navContent $innerNavListItem":{transitionDelay:".5s",opacity:1,transform:"translateX(0%)",transition:"opacity .3s ease, transform .3s ease, color .3s ease"}},navContent:{position:"fixed",visibility:"hidden",top:"50%",transform:"translate(0%, -50%)",width:"100%"},currentPageShadow:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"sans-serif",fontSize:"10rem",fontWeight:800,marginTop:"25px",color:"#fff",opacity:0,transition:"all 300ms linear"},innerNav:{position:"relative",padding:0,margin:0,zIndex:2},innerNavListItem:{opacity:0,position:"relative",display:"block",textAlign:"center",fontSize:"4rem",lineHeight:"1.05",letterSpacing:"3px",transform:"translate(0%, 100%)",transition:"opacity .2s ease, transform .3s ease"},innerNavLink:{position:"relative",color:e.palette.common.white,padding:"0 .5rem",margin:"0 1rem",fontSize:"2rem",fontWeight:600,cursor:"pointer",textDecoration:"none",zIndex:2,"&:after":{content:'""',position:"absolute",bottom:0,left:0,width:"100%",opacity:0,height:0,marginTop:"3px",backgroundColor:"rgba(255,255,255,0.5)",transition:"all 200ms linear",zIndex:1},"&:hover:after":{opacity:1,height:15}},[e.breakpoints.down("sm")]:{navIcon:{display:"block"},navLinks:{display:"none"}}}))(Ue));const He=Object(xe.a)(e=>({root:{backgroundColor:e.palette.background.dark,color:e.palette.common.white,height:"100%"}}));var qe=function(e){const t=He(e),{children:a,withFooter:n=!0}=e;return o.a.createElement("div",{className:t.root},o.a.createElement(Je,null),a,n&&o.a.createElement(Le,null))};const Ve=Object(n.lazy)(()=>Promise.all([a.e(10),a.e(24)]).then(a.bind(null,399))),$e=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(25)]).then(a.bind(null,426))),Ye=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(1),a.e(16)]).then(a.bind(null,427))),Qe=Object(n.lazy)(()=>a.e(27).then(a.bind(null,409))),Xe=Object(n.lazy)(()=>a.e(26).then(a.bind(null,410))),Ke=Object(n.lazy)(()=>a.e(28).then(a.bind(null,411))),Ze=Object(n.lazy)(()=>a.e(23).then(a.bind(null,260))),et=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(1),a.e(12)]).then(a.bind(null,412))),tt=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(1),a.e(15)]).then(a.bind(null,413))),at=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(1),a.e(18)]).then(a.bind(null,428))),nt=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(1),a.e(3),a.e(17)]).then(a.bind(null,434))),ot=Object(n.lazy)(()=>Promise.all([a.e(8),a.e(20)]).then(a.bind(null,430))),rt=Object(n.lazy)(()=>a.e(14).then(a.bind(null,435))),st=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(9),a.e(22)]).then(a.bind(null,431))),ct=Object(n.lazy)(()=>a.e(21).then(a.bind(null,433))),it=Object(n.lazy)(()=>a.e(13).then(a.bind(null,436))),lt=Object(n.lazy)(()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(11)]).then(a.bind(null,424))),dt=Object(n.lazy)(()=>a.e(19).then(a.bind(null,437)));var ut=()=>o.a.createElement(n.Suspense,{fallback:o.a.createElement(he.a,null)},o.a.createElement(pe.a,null,o.a.createElement(ge.d,null,o.a.createElement(ge.b,{exact:!0,path:"/login",component:nt}),o.a.createElement(ge.b,{exact:!0,path:"/register",component:at}),o.a.createElement(je,{exact:!0,path:"/checkin/:reservationId",component:dt,layout:qe}),o.a.createElement(je,{exact:!0,path:"/",layout:qe,component:ot}),o.a.createElement(je,{exact:!0,path:"/mydashboard",layout:qe,component:st}),o.a.createElement(je,{exact:!0,path:"/cinemas",layout:qe,component:it}),o.a.createElement(je,{exact:!0,path:"/movie/category/:category",layout:qe,component:ct}),o.a.createElement(je,{exact:!0,path:"/movie/:id",layout:qe,layoutProps:{withFooter:!1},component:rt}),o.a.createElement(je,{exact:!0,path:"/movie/booking/:id",layout:qe,layoutProps:{withFooter:!1},component:lt}),o.a.createElement(ve,{exact:!0,path:"/admin/dashboard",layout:ke,component:Ve}),o.a.createElement(ve,{exact:!0,path:"/admin/users",layout:ke,component:Ke}),o.a.createElement(ve,{exact:!0,path:"/admin/showtimes",layout:ke,component:Qe}),o.a.createElement(ve,{exact:!0,path:"/admin/reservations",layout:ke,component:Xe}),o.a.createElement(ve,{exact:!0,path:"/admin/cinemas",layout:ke,component:Ye}),o.a.createElement(ve,{exact:!0,path:"/admin/movies",layout:ke,component:$e}),o.a.createElement(ve,{exact:!0,path:"/admin/account",layout:ke,component:Ze}),o.a.createElement(ve,{exact:!0,path:"/admin/create-movie",layout:ke,component:et}),o.a.createElement(ve,{exact:!0,path:"/admin/create-cinema",layout:ke,component:tt}),o.a.createElement(ge.b,{path:"*",component:()=>"404 NOT FOUND"})))),mt=(a(135),a(136),a(192));class pt extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("App error:",e,t)}componentDidMount(){try{te.dispatch(Object(ae.n)())}catch(e){console.error("Error loading user:",e)}}render(){return this.state.hasError?o.a.createElement("div",{style:{padding:"20px",textAlign:"center"}},o.a.createElement("h2",null,"Something went wrong."),o.a.createElement("button",{onClick:()=>window.location.reload()},"Reload Page")):o.a.createElement(i.a,{store:te},o.a.createElement(c.a,{theme:ue},o.a.createElement(mt.a,null),o.a.createElement(me.a,null),o.a.createElement(ut,null)))}}var gt=pt;s.a.render(o.a.createElement(gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},2:function(e,t,a){"use strict";a.d(t,"y",(function(){return n})),a.d(t,"r",(function(){return o})),a.d(t,"q",(function(){return r})),a.d(t,"p",(function(){return s})),a.d(t,"n",(function(){return c})),a.d(t,"m",(function(){return i})),a.d(t,"L",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"o",(function(){return u})),a.d(t,"l",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"K",(function(){return g})),a.d(t,"d",(function(){return h})),a.d(t,"J",(function(){return b})),a.d(t,"x",(function(){return f})),a.d(t,"u",(function(){return y})),a.d(t,"g",(function(){return v})),a.d(t,"v",(function(){return E})),a.d(t,"k",(function(){return j})),a.d(t,"f",(function(){return O})),a.d(t,"e",(function(){return w})),a.d(t,"h",(function(){return S})),a.d(t,"i",(function(){return T})),a.d(t,"j",(function(){return k})),a.d(t,"c",(function(){return x})),a.d(t,"H",(function(){return C})),a.d(t,"w",(function(){return N})),a.d(t,"t",(function(){return I})),a.d(t,"D",(function(){return L})),a.d(t,"F",(function(){return D})),a.d(t,"B",(function(){return A})),a.d(t,"C",(function(){return R})),a.d(t,"E",(function(){return _})),a.d(t,"I",(function(){return z})),a.d(t,"G",(function(){return P})),a.d(t,"z",(function(){return F})),a.d(t,"A",(function(){return G})),a.d(t,"s",(function(){return B}));const n="SET_ALERT",o="REMOVE_ALERT",r="REGISTER_SUCCESS",s="REGISTER_FAIL",c="LOGIN_SUCCESS",i="LOGIN_FAIL",l="USER_LOADED",d="AUTH_ERROR",u="LOGOUT",m="GET_USERS",p="ADD_USER",g="UPDATE_USER",h="DELETE_USER",b="TOGGLE_USER_DIALOG",f="SELECT_USER",y="SELECT_ALL_USERS",v="GET_MOVIES",E="SELECT_MOVIE",j="GET_SUGGESTIONS",O="GET_CINEMAS",w="GET_CINEMA",S="GET_RESERVATIONS",T="GET_RESERVATION_SUGGESTED_SEATS",k="GET_SHOWTIMES",x="DELETE_SHOWTIME",C="TOGGLE_DIALOG",N="SELECT_SHOWTIMES",I="SELECT_ALL_SHOWTIMES",L="SET_SELECTED_SEATS",D="SET_SUGGESTED_SEATS",A="SET_SELECTED_CINEMA",R="SET_SELECTED_DATE",_="SET_SELECTED_TIME",z="TOGGLE_LOGIN_POPUP",P="SHOW_INVITATION_FORM",F="SET_INVITATION",G="SET_QR_CODE",B="RESET_CHECKOUT"},25:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"c",(function(){return m}));const n=()=>"undefined"!==typeof window&&window.localStorage.getItem("user")?JSON.parse(window.localStorage.getItem("user")):{},o=e=>window.localStorage.setItem("user",JSON.stringify(e)),r=()=>window.localStorage.removeItem("user"),s=()=>!!n().username;var c=a(22),i=Object(c.b)();var l=a(4);var d=e=>{let t=Object(l.a)({},e);return localStorage.jwtToken&&(t=Object(l.a)(Object(l.a)({},t),{},{Authorization:"Bearer ".concat(localStorage.jwtToken)})),t};const u=(e,t,a)=>(null==t&&(t=100),null==a&&(a="..."),e.length>t?e.substring(0,t-a.length)+a:e),m=(e,t,a)=>{const n=new RegExp(e.split("").join(".*"),"i");return t.filter(e=>e[a]&&e[a].match(n))}},3:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(96),o=a.n(n),r=a(2);const s=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return n=>{const s=o.a.v4();n({type:r.y,payload:{msg:e,alertType:t,id:s}}),setTimeout(()=>n({type:r.r,payload:s}),a)}}},40:function(e,t,a){"use strict";a.d(t,"v",(function(){return n.a})),a.d(t,"o",(function(){return s})),a.d(t,"r",(function(){return c})),a.d(t,"n",(function(){return i})),a.d(t,"p",(function(){return l})),a.d(t,"j",(function(){return d.d})),a.d(t,"q",(function(){return d.e})),a.d(t,"h",(function(){return d.b})),a.d(t,"i",(function(){return d.c})),a.d(t,"b",(function(){return d.a})),a.d(t,"G",(function(){return d.g})),a.d(t,"t",(function(){return d.f})),a.d(t,"f",(function(){return u.d})),a.d(t,"a",(function(){return u.a})),a.d(t,"e",(function(){return u.c})),a.d(t,"d",(function(){return u.b})),a.d(t,"F",(function(){return u.g})),a.d(t,"s",(function(){return u.f})),a.d(t,"g",(function(){return u.e})),a.d(t,"k",(function(){return m.b})),a.d(t,"m",(function(){return m.c})),a.d(t,"c",(function(){return m.a})),a.d(t,"l",(function(){return p})),a.d(t,"A",(function(){return g})),a.d(t,"C",(function(){return h})),a.d(t,"y",(function(){return b})),a.d(t,"z",(function(){return f})),a.d(t,"B",(function(){return y})),a.d(t,"w",(function(){return v})),a.d(t,"x",(function(){return E})),a.d(t,"E",(function(){return j})),a.d(t,"D",(function(){return O})),a.d(t,"u",(function(){return w}));var n=a(3),o=a(2),r=a(25);const s=(e,t)=>async a=>{try{const s="/users/login",c=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await c.json();if(c.ok){const{user:e}=i;e&&Object(r.f)(e),a({type:o.n,payload:i}),a(Object(n.a)("Welcome ".concat(e.name),"success",5e3))}i.error&&(a({type:o.m}),a(Object(n.a)(i.error.message,"error",5e3)))}catch(s){a({type:o.m}),a(Object(n.a)(s.message,"error",5e3))}},c=e=>{let{name:t,username:a,email:s,phone:c,password:i,role:l}=e;return async e=>{try{console.log("Registering user:",{name:t,username:a,email:s,phone:c,role:l});const d="/users",u={name:t,username:a,email:s,phone:c,password:i,role:"admin"===l?"admin":"user"},m=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),p=await m.json();if(console.log("Register response:",p),m.ok){const{user:t}=p;t&&Object(r.f)(t),e({type:o.q,payload:p}),e(Object(n.a)("Registration successful!","success",5e3))}else e({type:o.p}),e(Object(n.a)(p.message||"Registration failed","error",5e3))}catch(d){console.error("Registration error:",d),e({type:o.p}),e(Object(n.a)("Registration failed. Please try again.","error",5e3))}}},i=()=>async e=>{if(Object(r.b)())try{const t="/users/me",a=await fetch(t,{method:"GET",headers:Object(r.e)()}),n=await a.json();if(a.ok){const{user:t}=n;t&&Object(r.f)(t),e({type:o.L,payload:n})}a.ok||(Object(r.d)(),e({type:o.b}))}catch(t){Object(r.d)(),e({type:o.b})}},l=()=>async e=>{try{const t=localStorage.getItem("jwtToken"),a="/users/logout",s=await fetch(a,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),c=await s.json();s.ok&&(Object(r.d)(),e({type:o.o}),e(Object(n.a)("LOGOUT Success","success",5e3))),c.error&&e(Object(n.a)(c.error.message,"error",5e3))}catch(t){e(Object(n.a)(t.message,"error",5e3))}};var d=a(79),u=a(80),m=a(81);const p=()=>async e=>{try{const t=localStorage.getItem("jwtToken"),a="/showtimes",n=await fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}),r=await n.json();n.ok&&e({type:o.j,payload:r})}catch(t){e(Object(n.a)(t.message,"error",5e3))}},g=e=>({type:o.D,payload:e}),h=e=>({type:o.F,payload:e}),b=e=>({type:o.B,payload:e}),f=e=>({type:o.C,payload:e}),y=e=>({type:o.E,payload:e}),v=e=>({type:o.z,payload:e}),E=e=>({type:o.A,payload:e}),j=()=>({type:o.I}),O=()=>({type:o.G}),w=()=>({type:o.s})},44:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(13),o=a(0),r=a.n(o),s=a(9),c=a.n(s),i=a(8),l=a(109);const d=["classes","className","outlined","squared","children"],u=e=>{const{classes:t,className:a,outlined:o,squared:s,children:i}=e,u=Object(n.a)(e,d),m=c()({[t.root]:!0,[t.squared]:s,[t.outlined]:o},a);return r.a.createElement(l.a,Object.assign({},u,{className:m}),i)};u.defaultProps={squared:!1,outlined:!0,elevation:0};var m=Object(i.a)(e=>({root:{borderRadius:"4px",maxWidth:"100%",border:0,boxShadow:"0 10px 40px 0 rgba(16, 36, 94, 0.2)"},squared:{borderRadius:0},outlined:{border:0}}))(u)},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),o=a.n(n),r=a(103);const s=Object(r.a)(e=>({root:{background:e.palette.common.black,height:"100vh"}}));var c=()=>{const e=s();return o.a.createElement("div",{className:e.root})}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return x})),a.d(t,"b",(function(){return L.a})),a.d(t,"c",(function(){return D.a})),a.d(t,"d",(function(){return R})),a.d(t,"e",(function(){return z})),a.d(t,"f",(function(){return Q})),a.d(t,"g",(function(){return te}));var n=a(0),o=a.n(n),r=a(27),s=a(195),c=a(13),i=a(9),l=a.n(i),d=a(8),u=a(97),m=a.n(u),p=a(100),g=a.n(p),h=a(101),b=a.n(h),f=a(169),y=a(174),v=a(175),E=a(99),j=a.n(E);const O=["classes","className","message","onClose","variant"],w={success:m.a,warning:j.a,error:g.a,info:b.a};var S=Object(d.a)(e=>({success:{backgroundColor:f.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:y.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}))(e=>{const{classes:t,className:a,message:n,onClose:r,variant:s}=e,i=Object(c.a)(e,O),d=w[s];return o.a.createElement(v.a,Object.assign({className:l()(t[s],a),"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:t.message},o.a.createElement(d,{className:l()(t.icon,t.iconVariant)}),n)},i))});var T=e=>{const{isOpen:t,vertical:a,horizontal:n,variant:r,message:c}=e;return o.a.createElement(s.a,{anchorOrigin:{vertical:a,horizontal:n},open:t},o.a.createElement(S,{style:{color:"#fff"},variant:r,message:c}))};const k=e=>{let{alerts:t}=e;return t.length>0&&t.map((e,t)=>o.a.createElement(T,{key:"custom-alert-".concat(t,"-").concat(e.id),isOpen:!0,vertical:"top",horizontal:"right",variant:e.alertType,message:e.msg}))};k.defaultProps={alerts:[]};var x=Object(r.b)(e=>({alerts:e.alertState.alerts}))(k),C=a(176),N=a(177);const I=e=>{const{classes:t,className:a,mode:n,onChange:r}=e,s=l()(t.root,a);return o.a.createElement("div",{className:s},o.a.createElement("span",{className:l()({[t.option]:!0,[t.optionSelected]:"grid"===n}),onClick:r},o.a.createElement(C.a,{className:t.displayIcon})),o.a.createElement("span",{className:t.divider}),o.a.createElement("span",{className:l()({[t.option]:!0,[t.optionSelected]:"list"===n}),onClick:r},o.a.createElement(N.a,{className:t.displayIcon})))};I.defaultProps={mode:"grid",onChange:()=>{}};Object(d.a)(e=>({root:{flexGrow:0,flexShrink:0,overflow:"hidden",borderRadius:"5px",display:"inline-flex",border:"1px solid ".concat(e.palette.border)},option:{cursor:"pointer",display:"flex",alignItems:"center",padding:e.spacing(1),backgroundColor:e.palette.background.paper},optionSelected:{backgroundColor:e.palette.background.default,color:e.palette.primary.main},divider:{width:"1px",backgroundColor:e.palette.divider}}))(I);var L=a(82),D=(a(54),a(44));const A=["classes","className","children"];var R=Object(d.a)(()=>({root:{display:"flex",flexDirection:"column"}}))(e=>{const{classes:t,className:a,children:n}=e,r=Object(c.a)(e,A),s=l()(t.root,a);return o.a.createElement(D.a,Object.assign({},r,{className:s,elevation:0,outlined:!0,squared:!1}),n)});const _=["classes","className","children","noPadding"];var z=Object(d.a)(e=>({root:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingTop:e.spacing(2),paddingBottom:e.spacing(2),flexGrow:1,overflow:"auto"},noPadding:{padding:0}}))(e=>{const{classes:t,className:a,children:n,noPadding:r}=e,s=Object(c.a)(e,_),i=l()({[t.root]:!0,[t.noPadding]:r},a);return o.a.createElement("div",Object.assign({},s,{className:i}),n)});const P=["classes","className","noDivider","children"];Object(d.a)(e=>({root:{paddingBottom:e.spacing(1),paddingTop:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),borderTop:"1px solid ".concat(e.palette.border),borderBottomLeftRadius:"2px",borderBottomRightRadius:"2px"},noDivider:{borderTop:"none"}}))(e=>{const{classes:t,className:a,noDivider:n,children:r}=e,s=Object(c.a)(e,P),i=l()({[t.root]:!0,[t.noDivider]:n},a);return o.a.createElement("div",Object.assign({},s,{className:i}),r)});const F=["classes","className","noDivider","noPadding","children"];Object(d.a)(e=>({root:{alignItems:"center",borderBottom:"1px solid ".concat(e.palette.border),borderTopLeftRadius:"2px",borderTopRightRadius:"2px",display:"flex",height:"64px",justifyContent:"space-between",paddingLeft:e.spacing(3),paddingRight:e.spacing(3),position:"relative"},noDivider:{borderBottom:"none"},noPadding:{padding:0}}))(e=>{const{classes:t,className:a,noDivider:n,noPadding:r,children:s}=e,i=Object(c.a)(e,F),d=l()({[t.root]:!0,[t.noDivider]:n,[t.noPadding]:r},a);return o.a.createElement("div",Object.assign({},i,{className:d}),s)});var G=a(66);const B=["classes","className","icon","title","subtitle"];Object(d.a)(e=>({root:{display:"flex",alignItems:"center"},icon:{fontSize:"1.3rem",marginRight:e.spacing(1),color:e.palette.text.secondary,alignItems:"center",display:"flex"},title:{fontWeight:500},subtitle:{fontWeight:400,marginLeft:e.spacing(1),color:e.palette.text.secondary}}))(e=>{const{classes:t,className:a,icon:n,title:r,subtitle:s}=e,i=Object(c.a)(e,B),d=l()(t.root,a);return o.a.createElement("div",Object.assign({},i,{className:d}),n&&o.a.createElement("span",{className:t.icon},n),r&&o.a.createElement(G.a,{className:t.title,variant:"h5"},r),s&&o.a.createElement(G.a,{className:t.subtitle,variant:"subtitle2"},s))});const M=["classes","className","children"];Object(d.a)(()=>({root:{justifyContent:"flex-end",alignItems:"center",display:"flex"}}))(e=>{const{classes:t,className:a,children:n}=e,r=Object(c.a)(e,M),s=l()(t.root,a);return o.a.createElement("div",Object.assign({},r,{className:s}),n)});var U=a(141),W=a(194),J=a(182),H=a(180),q=a(181),V=a(179),$=a(178),Y=a(48);var Q=e=>{let{id:t,title:a="",contentText:n,children:r,open:s,handleClose:c,maxWidth:i="lg"}=e;const l=Object(Y.a)(),d=Object($.a)(l.breakpoints.down("sm"));return o.a.createElement(W.a,{fullScreen:d,fullWidth:!0,maxWidth:i,open:s,onClose:c,"aria-labelledby":t},o.a.createElement(V.a,{id:t},a),o.a.createElement(H.a,null,o.a.createElement(q.a,null,n),r),o.a.createElement(J.a,null,o.a.createElement(U.a,{onClick:c,color:"primary",autoFocus:!0},"Done")))},X=a(184),K=a(183);const Z=["classes","className","onChange","style"],ee=e=>{const{classes:t,className:a,onChange:n,style:r}=e,s=Object(c.a)(e,Z),i=l()(t.root,a);return o.a.createElement("div",{className:i,style:r},o.a.createElement(K.a,{className:t.icon}),o.a.createElement(X.a,Object.assign({},s,{className:t.input,disableUnderline:!0,onChange:n})))};ee.defaultProps={onChange:()=>{}};var te=Object(d.a)(e=>({root:{alignItems:"center",backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.common.neutral),borderRadius:"4px",display:"flex",flexBasis:"420px",paddingBottom:e.spacing(.5),paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingTop:e.spacing(.5)},icon:{marginRight:e.spacing(1),color:e.palette.text.secondary},input:{flexGrow:1,fontSize:"14px",lineHeight:"16px",letterSpacing:"-0.05px"}}))(ee);const ae=["classes","className","size","color"],ne=e=>{const{classes:t,className:a,size:n,color:r}=e,s=Object(c.a)(e,ae),i=l()({[t.root]:!0,[t[n]]:n,[t[r]]:r},a);return o.a.createElement("span",Object.assign({},s,{className:i}))};ne.defaultProps={size:"md",color:"default"};Object(d.a)(e=>({root:{display:"inline-block",borderRadius:"50%",flexGrow:0,flexShrink:0},sm:{height:e.spacing(1),width:e.spacing(1)},md:{height:e.spacing(2),width:e.spacing(2)},lg:{height:e.spacing(3),width:e.spacing(3)},neutral:{backgroundColor:e.palette.common.neutral},primary:{backgroundColor:e.palette.primary.main},info:{backgroundColor:e.palette.info.main},warning:{backgroundColor:e.palette.warning.main},danger:{backgroundColor:e.palette.danger.main},success:{backgroundColor:e.palette.success.main}}))(ne)},79:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"f",(function(){return u}));var n=a(2),o=a(3);const r=()=>async e=>{try{const t="/movies",a=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const t=await a.json();e({type:n.g,payload:t})}else console.error("Failed to fetch movies:",a.status,a.statusText)}catch(t){e(Object(o.a)(t.message,"error",5e3))}},s=e=>({type:n.v,payload:e}),c=e=>async t=>{try{const a="/movies/"+e,o=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await o.json();o.ok&&t({type:n.v,payload:r})}catch(a){t(Object(o.a)(a.message,"error",5e3))}},i=e=>async t=>{try{const a="/movies/usermodeling/"+e,o=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await o.json();o.ok&&t({type:n.k,payload:r})}catch(a){t(Object(o.a)(a.message,"error",5e3))}},l=(e,t)=>async e=>{try{console.log("Adding movie:",t);const a=localStorage.getItem("jwtToken");if(!a)return void e(Object(o.a)("Please login to add movies","error",5e3));const n="/movies",s=await fetch(n,{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("Response status:",s.status),s.ok){const t=await s.json();return console.log("Movie created:",t),e(Object(o.a)("Movie created successfully!","success",5e3)),e(r()),{status:"success",movie:t}}{const t=await s.text();return console.error("Error response:",t),e(Object(o.a)("Failed to create movie","error",5e3)),{status:"error",message:t}}}catch(a){return console.error("Add movie error:",a),e(Object(o.a)(a.message,"error",5e3)),{status:"error",message:a.message}}},d=(e,t,a)=>async n=>{console.log("in update movie",e,t,a);try{const c=localStorage.getItem("jwtToken"),i="/movies/"+e;(await fetch(i,{method:"PUT",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(n(s(null)),n(Object(o.a)("Movie have been saved!","success",5e3)),console.log("about to call uploadimage"),a&&n(((e,t)=>async a=>{try{const n=localStorage.getItem("jwtToken"),s=new FormData;s.append("file",t);const c="/movies/photo/"+e,i=await fetch(c,{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:s}),l=await i.json();i.ok&&(a(Object(o.a)("Image Uploaded","success",5e3)),a(r())),l.error&&a(Object(o.a)(l.error.message,"error",5e3))}catch(n){a(Object(o.a)(n.message,"error",5e3))}})(e,a)),n(r()))}catch(c){n(Object(o.a)(c.message,"error",5e3))}},u=e=>async t=>{try{const a=localStorage.getItem("jwtToken"),n="/movies/"+e;(await fetch(n,{method:"DELETE",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}})).ok&&(t(r()),t(s(null)),t(Object(o.a)("Movie have been Deleted!","success",5e3)))}catch(a){t(Object(o.a)(a.message,"error",5e3))}}},80:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return m}));var n=a(2),o=a(3);const r=(e,t)=>async a=>{try{const n=new FormData;n.append("file",t);const r="/cinemas/photo/"+e,s=await fetch(r,{method:"POST",body:n}),c=await s.json();s.ok&&a(Object(o.a)("Image Uploaded","success",5e3)),c.error&&a(Object(o.a)(c.error.message,"error",5e3))}catch(n){a(Object(o.a)(n.message,"error",5e3))}},s=()=>async e=>{try{const t="/cinemas",a=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}),o=await a.json();a.ok&&e({type:n.f,payload:o})}catch(t){e(Object(o.a)(t.message,"error",5e3))}},c=e=>async t=>{try{console.log("Adding cinema:",e);const a=localStorage.getItem("jwtToken");if(!a)return void t(Object(o.a)("Please login to add cinemas","error",5e3));const n="/cinemas",r=await fetch(n,{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){const e=await r.json();return console.log("Cinema created:",e),t(Object(o.a)("Cinema created successfully!","success",5e3)),t(s()),{status:"success",cinema:e}}{const e=await r.text();return console.error("Error response:",e),t(Object(o.a)("Failed to create cinema","error",5e3)),{status:"error",message:e}}}catch(a){return console.error("Add cinema error:",a),t(Object(o.a)(a.message,"error",5e3)),{status:"error",message:a.message}}},i=e=>async t=>{try{const a="/cinemas/"+e,o=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await o.json();o.ok&&t({type:n.e,payload:r})}catch(a){t(Object(o.a)(a.message,"error",5e3))}},l=(e,t)=>async a=>{try{const n=localStorage.getItem("jwtToken"),c="/cinemas",i=await fetch(c,{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)}),l=await i.json();if(i.ok)return a(Object(o.a)("Cinema Created","success",5e3)),e&&a(r(l._id,e)),a(s()),{status:"success",message:"Cinema Created"}}catch(n){return a(Object(o.a)(n.message,"error",5e3)),{status:"error",message:" Cinema have not been saved, try again."}}},d=(e,t,a)=>async n=>{try{const s=localStorage.getItem("jwtToken"),c="/cinemas/"+a;if((await fetch(c,{method:"PATCH",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)return n(Object(o.a)("Cinema Updated","success",5e3)),e&&n(r(a,e)),{status:"success",message:"Cinema Updated"}}catch(s){return n(Object(o.a)(s.message,"error",5e3)),{status:"error",message:" Cinema have not been updated, try again."}}},u=e=>async t=>{try{const a=localStorage.getItem("jwtToken"),n="/cinemas/"+e;if((await fetch(n,{method:"DELETE",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}})).ok)return t(Object(o.a)("Cinema Deleted","success",5e3)),{status:"success",message:"Cinema Removed"}}catch(a){return t(Object(o.a)(a.message,"error",5e3)),{status:"error",message:" Cinema have not been deleted, try again."}}},m=e=>async t=>{try{const a="/cinemas/usermodeling/"+e,o=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await o.json();o.ok&&t({type:n.f,payload:r})}catch(a){t(Object(o.a)(a.message,"error",5e3))}}},81:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return c}));var n=a(2),o=a(3);const r=()=>async e=>{try{const t=localStorage.getItem("jwtToken"),a="/reservations",o=await fetch(a,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});if(o.ok){const t=await o.json();e({type:n.h,payload:t})}else console.error("Failed to fetch reservations:",o.status,o.statusText)}catch(t){e(Object(o.a)(t.message,"error",5e3))}},s=e=>async t=>{try{const a=localStorage.getItem("jwtToken"),o="/reservations/usermodeling/"+e,r=await fetch(o,{method:"GET",headers:{Authorization:"Bearer ".concat(a)}}),s=await r.json();r.ok&&t({type:n.i,payload:s})}catch(a){t(Object(o.a)(a.message,"error",5e3))}},c=e=>async t=>{try{console.log("Creating reservation:",e);const a=localStorage.getItem("jwtToken"),n="/reservations",r=await fetch(n,{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("Response status:",r.status),r.ok){const{reservation:e,QRCode:a}=await r.json();return t(Object(o.a)("Reservation Created","success",5e3)),{status:"success",message:"Reservation Created",data:{reservation:e,QRCode:a}}}{const e=await r.json();return console.error("Reservation error:",e),t(Object(o.a)(e.message||"Booking failed","error",5e3)),{status:"error",message:e.message||"Reservation failed"}}}catch(a){return console.error("Reservation error:",a),t(Object(o.a)(a.message,"error",5e3)),{status:"error",message:"Reservation have not been created, try again."}}}},82:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(9),s=a.n(r),c=a(141),i=a(8),l=a(44);const d=e=>{const{classes:t,className:a,file:n,onUpload:r}=e,i=s()({[t.root]:!0},a);return o.a.createElement(l.a,{className:i},o.a.createElement("input",{accept:"image/*",className:t.input,id:"icon-button-file",type:"file",onChange:r}),o.a.createElement("label",{htmlFor:"icon-button-file"},o.a.createElement(c.a,{variant:"outlined",className:t.button,component:"span"},"Upload")),o.a.createElement("span",null,n?n.name:"No file selected"))};d.defaultProps={squared:!1,outlined:!0,elevation:0},t.a=Object(i.a)(e=>({root:{padding:e.spacing(2)},input:{display:"none"},button:{minWidth:100,marginRight:e.spacing(2)}}))(d)}},[[118,5,6]]]);