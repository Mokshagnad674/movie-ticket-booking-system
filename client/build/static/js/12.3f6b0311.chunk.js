(this["webpackJsonpmoviestore-client"]=this["webpackJsonpmoviestore-client"]||[]).push([[12],{226:function(e,a,t){"use strict";var l=t(1),r=t(5),o=t(0),n=t.n(o),i=t(6),c=t(109),s=t(8),m=n.a.forwardRef((function(e,a){var t=e.classes,o=e.className,s=e.raised,m=void 0!==s&&s,d=Object(r.a)(e,["classes","className","raised"]);return n.a.createElement(c.a,Object(l.a)({className:Object(i.a)(t.root,o),elevation:m?8:1,ref:a},d))}));a.a=Object(s.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(m)},227:function(e,a,t){"use strict";var l=t(1),r=t(5),o=t(0),n=t.n(o),i=t(6),c=t(8),s=n.a.forwardRef((function(e,a){var t=e.classes,o=e.className,c=e.component,s=void 0===c?"div":c,m=Object(r.a)(e,["classes","className","component"]);return n.a.createElement(s,Object(l.a)({className:Object(i.a)(t.root,o),ref:a},m))}));a.a=Object(c.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(s)},228:function(e,a,t){"use strict";var l=t(5),r=t(14),o=t(1),n=t(0),i=t.n(n),c=t(6),s=t(8),m=t(190),d=i.a.forwardRef((function(e,a){var t,r=e.classes,n=e.className,s=e.component,d=void 0===s?"li":s,p=e.disableGutters,u=void 0!==p&&p,b=e.role,g=void 0===b?"menuitem":b,h=e.selected,v=e.tabIndex,y=Object(l.a)(e,["classes","className","component","disableGutters","role","selected","tabIndex"]);return e.disabled||(t=void 0!==v?v:-1),i.a.createElement(m.a,Object(o.a)({button:!0,role:g,tabIndex:t,component:d,selected:h,disableGutters:u,classes:{dense:r.dense},className:Object(c.a)(r.root,n,h&&r.selected,!u&&r.gutters),ref:a},y))}));a.a=Object(s.a)((function(e){return{root:Object(o.a)({},e.typography.body1,Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(o.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(d)},296:function(e,a,t){"use strict";var l=t(1),r=t(5),o=t(0),n=t.n(o),i=t(6),c=t(8),s=t(66),m=n.a.forwardRef((function(e,a){var t=e.action,o=e.avatar,c=e.classes,m=e.className,d=e.component,p=void 0===d?"div":d,u=e.disableTypography,b=void 0!==u&&u,g=e.subheader,h=e.subheaderTypographyProps,v=e.title,y=e.titleTypographyProps,f=Object(r.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),E=v;null==E||E.type===s.a||b||(E=n.a.createElement(s.a,Object(l.a)({variant:o?"body2":"h5",className:c.title,component:"span",display:"block"},y),E));var O=g;return null==O||O.type===s.a||b||(O=n.a.createElement(s.a,Object(l.a)({variant:o?"body2":"body1",className:c.subheader,color:"textSecondary",component:"span",display:"block"},h),O)),n.a.createElement(p,Object(l.a)({className:Object(i.a)(c.root,m),ref:a},f),o&&n.a.createElement("div",{className:c.avatar},o),n.a.createElement("div",{className:c.content},E,O),t&&n.a.createElement("div",{className:c.action},t))}));a.a=Object(c.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(m)},386:function(e,a,t){"use strict";var l=t(1),r=t(5),o=t(0),n=t.n(o),i=t(6),c=t(201),s=Object(c.a)(n.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),m=t(8),d=t(17),p=t(12),u=t(11),b=t(67),g=n.a.forwardRef((function(e,a){var t=e.avatar,o=e.classes,c=e.className,m=e.clickable,d=e.color,g=void 0===d?"default":d,h=e.component,v=e.deleteIcon,y=e.disabled,f=void 0!==y&&y,E=e.icon,O=e.label,C=e.onClick,j=e.onDelete,k=e.onKeyDown,x=e.onKeyUp,w=e.size,S=void 0===w?"medium":w,N=e.variant,T=void 0===N?"default":N,P=Object(r.a)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),I=n.a.useRef(null),D=Object(p.a)(I,a),R=function(e){e.stopPropagation(),j&&j(e)},$=!(!1===m||!C)||m,L="small"===S,W=h||($?b.a:"div"),M=W===b.a?{component:"div"}:{},z=null;if(j){var q=Object(i.a)("default"!==g&&("default"===T?o["deleteIconColor".concat(Object(u.a)(g))]:o["deleteIconOutlinedColor".concat(Object(u.a)(g))]),L&&o.deleteIconSmall);z=v&&n.a.isValidElement(v)?n.a.cloneElement(v,{className:Object(i.a)(v.props.className,o.deleteIcon,q),onClick:R}):n.a.createElement(s,{className:Object(i.a)(o.deleteIcon,q),onClick:R})}var H=null;t&&n.a.isValidElement(t)&&(H=n.a.cloneElement(t,{className:Object(i.a)(o.avatar,t.props.className,L&&o.avatarSmall,"default"!==g&&o["avatarColor".concat(Object(u.a)(g))])}));var B=null;return E&&n.a.isValidElement(E)&&(B=n.a.cloneElement(E,{className:Object(i.a)(o.icon,E.props.className,L&&o.iconSmall,"default"!==g&&o["iconColor".concat(Object(u.a)(g))])})),n.a.createElement(W,Object(l.a)({role:$||j?"button":void 0,className:Object(i.a)(o.root,c,"default"!==g&&[o["color".concat(Object(u.a)(g))],$&&o["clickableColor".concat(Object(u.a)(g))],j&&o["deletableColor".concat(Object(u.a)(g))]],"default"!==T&&[o.outlined,{primary:o.outlinedPrimary,secondary:o.outlinedSecondary}[g]],f&&o.disabled,L&&o.sizeSmall,$&&o.clickable,j&&o.deletable),"aria-disabled":!!f||void 0,tabIndex:$||j?0:void 0,onClick:C,onKeyDown:function(e){k&&k(e),e.currentTarget===e.target&&-1!==[" ","Enter","Backspace","Delete","Escape"].indexOf(e.key)&&e.preventDefault()},onKeyUp:function(e){if(x&&x(e),e.currentTarget===e.target){var a=e.key;!j||"Backspace"!==a&&"Delete"!==a?"Escape"===a&&I.current&&I.current.blur():j(e)}},ref:D},M,P),H||B,n.a.createElement("span",{className:Object(i.a)(o.label,L&&o.labelSmall)},O),z)}));a.a=Object(m.a)((function(e){var a="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],t=Object(d.c)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(a),backgroundColor:a,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(d.b)(a,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(d.b)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(d.b)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Object(d.b)(a,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(d.b)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(d.b)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(d.c)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(d.c)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(d.c)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{display:"flex",alignItems:"center",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:t,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(d.c)(t,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Object(d.c)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(d.c)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(d.c)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(d.c)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(g)},412:function(e,a,t){"use strict";t.r(a);var l=t(13),r=t(4),o=t(0),n=t.n(o),i=t(27),c=t(66),s=t(226),m=t(296),d=t(186),p=t(227),u=t(212),b=t(438),g=t(406),h=t(407),v=t(429),y=t(193),f=t(386),E=t(228),O=t(141),C=t(103),j=t(40),k=t(38);const x=["image","imagePreview","showtimes","ticketPrice","cinema"],w=Object(C.a)(e=>({root:{padding:e.spacing(3)},card:{marginBottom:e.spacing(3)},imagePreview:{width:200,height:300,objectFit:"cover",marginTop:e.spacing(2)}}));a.default=Object(i.b)(e=>{let{cinemaState:a}=e;return{cinemas:a.cinemas}},{addMovie:j.b,getCinemas:j.f})(e=>{let{addMovie:a,getCinemas:t,cinemas:i}=e;const C=w(),j=Object(k.g)(),[S,N]=Object(o.useState)({title:"",description:"",director:"",cast:"",genre:[],duration:"",releaseDate:"",endDate:"",language:"",ticketPrice:"",cinema:"",showtimes:[],image:null,imagePreview:null}),[T,P]=Object(o.useState)("");Object(o.useEffect)(()=>{i.length||t()},[i,t]);const I=e=>a=>{N(Object(r.a)(Object(r.a)({},S),{},{[e]:a.target.value}))};return n.a.createElement("div",{className:C.root},n.a.createElement(c.a,{variant:"h4",gutterBottom:!0},"Create New Movie"),n.a.createElement(s.a,{className:C.card},n.a.createElement(m.a,{title:"Movie Information"}),n.a.createElement(d.a,null),n.a.createElement(p.a,null,n.a.createElement(u.a,{container:!0,spacing:3},n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b.a,{fullWidth:!0,label:"Movie Title",value:S.title,onChange:I("title"),variant:"outlined",required:!0})),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b.a,{fullWidth:!0,label:"Director",value:S.director,onChange:I("director"),variant:"outlined",required:!0})),n.a.createElement(u.a,{item:!0,xs:12},n.a.createElement(b.a,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:S.description,onChange:I("description"),variant:"outlined",required:!0})),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b.a,{fullWidth:!0,label:"Cast (comma separated)",value:S.cast,onChange:I("cast"),variant:"outlined",required:!0})),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b.a,{fullWidth:!0,label:"Duration (minutes)",type:"number",value:S.duration,onChange:I("duration"),variant:"outlined",required:!0})),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(g.a,{fullWidth:!0,variant:"outlined"},n.a.createElement(h.a,null,"Genre"),n.a.createElement(v.a,{multiple:!0,value:S.genre,onChange:e=>{N(Object(r.a)(Object(r.a)({},S),{},{genre:e.target.value}))},label:"Genre",renderValue:e=>n.a.createElement(y.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},e.map(e=>n.a.createElement(f.a,{key:e,label:e,size:"small"})))},["action","comedy","drama","horror","romance","sci-fi","thriller","animation"].map(e=>n.a.createElement(E.a,{key:e,value:e},e.charAt(0).toUpperCase()+e.slice(1)))))),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(g.a,{fullWidth:!0,variant:"outlined"},n.a.createElement(h.a,null,"Language"),n.a.createElement(v.a,{value:S.language,onChange:I("language"),label:"Language"},["english","hindi","tamil","telugu","malayalam","kannada"].map(e=>n.a.createElement(E.a,{key:e,value:e},e.charAt(0).toUpperCase()+e.slice(1)))))),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b.a,{fullWidth:!0,label:"Release Date",type:"date",value:S.releaseDate,onChange:I("releaseDate"),InputLabelProps:{shrink:!0},variant:"outlined",required:!0})),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b.a,{fullWidth:!0,label:"End Date",type:"date",value:S.endDate,onChange:I("endDate"),InputLabelProps:{shrink:!0},variant:"outlined",required:!0})),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(b.a,{fullWidth:!0,label:"Ticket Price (\u20b9)",type:"number",value:S.ticketPrice,onChange:I("ticketPrice"),variant:"outlined",required:!0})),n.a.createElement(u.a,{item:!0,xs:12,md:6},n.a.createElement(g.a,{fullWidth:!0,variant:"outlined"},n.a.createElement(h.a,null,"Cinema Hall"),n.a.createElement(v.a,{value:S.cinema,onChange:I("cinema"),label:"Cinema Hall"},i.map(e=>n.a.createElement(E.a,{key:e._id,value:e._id},e.name," - ",e.city))))),n.a.createElement(u.a,{item:!0,xs:12},n.a.createElement(c.a,{variant:"h6",gutterBottom:!0},"Showtimes"),n.a.createElement(y.a,{display:"flex",gap:2,alignItems:"center",mb:2},n.a.createElement(g.a,{variant:"outlined",style:{minWidth:120}},n.a.createElement(h.a,null,"Time"),n.a.createElement(v.a,{value:T,onChange:e=>P(e.target.value),label:"Time"},["09:00","12:00","15:00","18:00","21:00"].map(e=>n.a.createElement(E.a,{key:e,value:e},e)))),n.a.createElement(O.a,{variant:"outlined",onClick:()=>{T&&!S.showtimes.includes(T)&&(N(Object(r.a)(Object(r.a)({},S),{},{showtimes:[...S.showtimes,T]})),P(""))}},"Add Time")),n.a.createElement(y.a,{display:"flex",flexWrap:"wrap",gap:1},S.showtimes.map(e=>n.a.createElement(f.a,{key:e,label:e,onDelete:()=>(e=>{N(Object(r.a)(Object(r.a)({},S),{},{showtimes:S.showtimes.filter(a=>a!==e)}))})(e),color:"primary"})))),n.a.createElement(u.a,{item:!0,xs:12},n.a.createElement(b.a,{fullWidth:!0,label:"Movie Poster URL (optional)",value:S.image||"",onChange:I("image"),variant:"outlined",placeholder:"https://example.com/poster.jpg"}))))),n.a.createElement(y.a,{display:"flex",justifyContent:"flex-end",gap:2},n.a.createElement(O.a,{variant:"outlined",size:"large",onClick:()=>j.push("/admin/movies")},"Cancel"),n.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",onClick:async()=>{try{const{image:e,imagePreview:t,showtimes:o,ticketPrice:n,cinema:i}=S,c=Object(l.a)(S,x),s=Object(r.a)(Object(r.a)({},c),{},{genre:S.genre.join(","),releaseDate:new Date(S.releaseDate),endDate:new Date(S.endDate),duration:parseInt(S.duration),image:"https://via.placeholder.com/300x450/333/fff?text=Movie+Poster"});console.log("Submitting movie:",s),await a(null,s),j.push("/admin/movies")}catch(e){console.error("Error creating movie:",e)}}},"Create Movie")))})}}]);