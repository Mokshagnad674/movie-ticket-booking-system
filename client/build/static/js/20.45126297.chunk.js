(this["webpackJsonpmoviestore-client"]=this["webpackJsonpmoviestore-client"]||[]).push([[20],{254:function(e,t,a){"use strict";var o=a(0),i=a.n(o),n=a(9),r=a.n(n),c=a(385),l=a(103),s=a(8),m=a(193),g=a(66),d=a(141),p=a(25),h=a(20),u=a(234),b=a.n(u),v=a(233),f=a.n(v);const x=Object(l.a)(e=>({movieHero:{position:"relative",height:e=>e.height?e.height:"100%",width:"100%",color:e.palette.common.white,backgroundColor:e.palette.background.dark},blurBackground:{position:"absolute",top:0,zIndex:1,height:"100%",right:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%"},infoSection:{position:"relative",padding:e.spacing(3),display:"flex",alignItems:"center",width:"100%",height:"100%",backgroundBlendMode:"multiply",background:"linear-gradient(to right, rgba(0,0,0,.9) 25%, transparent 100%)",zIndex:2},movieHeader:{position:"relative",padding:e.spacing(3),maxWidth:"60%"},tag:{padding:e.spacing(.3,3),marginRight:e.spacing(1),border:"1px solid rgba(255,255,255,0.9)",borderRadius:25},movieTitle:{maxWidth:"60%",fontSize:"32px",lineHeight:1.2,fontWeight:400,textTransform:"capitalize"},director:{color:"#9ac7fa",fontWeight:"500",fontSize:"16px",marginTop:e.spacing(1)},duration:{display:"inline-block",marginTop:e.spacing(2),padding:e.spacing(1),border:"1px solid rgba(255,255,255,0.13)"},genre:{display:"inline-block",color:"#cee4fd",marginLeft:e.spacing(2)},descriptionText:{color:"#cfd6e1",padding:e.spacing(2,0),maxWidth:"60%"},footer:{position:"absolute",left:e.spacing(4),bottom:e.spacing(2),zIndex:2},icons:{display:"inline-block",cursor:"pointer",color:"rgba(255, 255, 255, 0.4)",margin:e.spacing(0,1),transition:"all 0.3s","&:hover":{color:"rgba(255, 255, 255, 0.8)",transform:"scale(1.25)",transition:"all 0.3s",transitionDelay:"0.15s"}},movieActions:{position:"absolute",bottom:0,right:0},button:{width:200,height:70,borderRadius:0,zIndex:2},learnMore:{color:e.palette.common.white},buttonIcon:{marginLeft:e.spacing(2)},[e.breakpoints.down("sm")]:{infoSection:{background:"linear-gradient(to right, rgba(0,0,0,.9) 70%, transparent 100%)"},movieHeader:{maxWidth:"90%"},movieTitle:{maxWidth:"100%",fontSize:"16px"},descriptionText:{maxWidth:"100%",fontSize:"12px"},tag:{padding:e.spacing(.3,1),margin:e.spacing(1,1,1,0)},movieActions:{display:"flex",width:"100%"},button:{flex:1,fontSize:13,height:"auto",padding:e.spacing(2)},footer:{left:e.spacing(1),bottom:e.spacing(12)}}})),E=Object(s.a)({iconFilled:{color:"#fff"},iconEmpty:{color:"#fff"}})(c.a);t.a=function(e){const{movie:t,fullDescription:a}=e;console.log(t);const o=x(e);return t?i.a.createElement("div",{className:o.movieHero},i.a.createElement("div",{className:o.infoSection},i.a.createElement("header",{className:o.movieHeader},a&&i.a.createElement(m.a,{mb:3,display:"flex",alignItems:"center",flexWrap:"wrap"},t.genre.split(",").map((e,t)=>i.a.createElement(g.a,{key:"".concat(e,"-").concat(t),className:o.tag,variant:"body1",color:"inherit"},e)),i.a.createElement(E,{value:4,readOnly:!0,size:"small",emptyIcon:i.a.createElement(f.a,{fontSize:"inherit"})})),i.a.createElement(g.a,{className:o.movieTitle,variant:"h1",color:"inherit"},t.title),i.a.createElement(g.a,{className:o.descriptionText,variant:"body1",color:"inherit"},Object(p.g)(t.description,450)),i.a.createElement(g.a,{className:o.director,variant:"h4",color:"inherit"},"By: ",t.director),i.a.createElement(g.a,{className:o.duration,variant:"body1",color:"inherit"},t.duration," min"),i.a.createElement(g.a,{className:o.genre,variant:"body1",color:"inherit"},t.genre))),i.a.createElement("div",{className:o.blurBackground,style:{backgroundImage:"url(".concat(t.image||"https://via.placeholder.com/1920x1080/333/fff?text=Movie+Poster",")")}}),i.a.createElement("div",{className:o.movieActions},a?i.a.createElement(h.b,{to:"booking/".concat(t._id),style:{textDecoration:"none"}},i.a.createElement(d.a,{variant:"contained",className:o.button},"Buy Tickets",i.a.createElement(b.a,{className:o.buttonIcon}))):i.a.createElement(h.b,{to:"movie/".concat(t._id),style:{textDecoration:"none"}},i.a.createElement(d.a,{className:r()(o.button,o.learnMore)},"Learn More",i.a.createElement(b.a,{className:o.buttonIcon}))))):null}},430:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var o=a(0),i=a.n(o),n=a(27),r=a(193),c=a(212),l=a(8),s=a(40),m=(a(9),a(20)),g=a(103),d=a(66),p=a(141),h=(a(298),a(314),a(315),a(417),a(418),a(226)),u=a(415),b=a(227),v=a(416);const f=Object(g.a)(e=>({card:{maxWidth:400,backgroundColor:"transparent",borderRadius:0,color:e.palette.common.white,boxShadow:"unset"},media:{height:300},h5:{textTransform:"capitalize"},comingSoonBadge:{position:"absolute",top:10,right:10,backgroundColor:"#ff6b35",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},cardContainer:{position:"relative"}}));var x=e=>{const t=f(),{movie:a,ifupcoming:o}=e;return o?i.a.createElement("div",{className:t.cardContainer},i.a.createElement(h.a,{className:t.card},i.a.createElement(u.a,null,i.a.createElement(v.a,{className:t.media,image:a.image,title:a.title}),i.a.createElement("div",{className:t.comingSoonBadge},"Coming Soon"),i.a.createElement(b.a,null,i.a.createElement(d.a,{className:t.h5,gutterBottom:!0,variant:"h5",component:"h2",color:"inherit"},a.title),i.a.createElement(d.a,{variant:"body2",color:"textSecondary"},"Release Date: ",new Date(a.releaseDate).toLocaleDateString()))))):i.a.createElement("div",{className:t.cardContainer},i.a.createElement(h.a,{className:t.card},i.a.createElement(u.a,null,i.a.createElement(v.a,{className:t.media,image:a.image,title:a.title}),i.a.createElement(b.a,null,i.a.createElement(d.a,{className:t.h5,gutterBottom:!0,variant:"h5",component:"h2",color:"inherit"},a.title),i.a.createElement(r.a,{mt:2},i.a.createElement(p.a,{component:m.b,to:"/movie/booking/".concat(a._id),variant:"contained",color:"primary",size:"small",fullWidth:!0},"Book Now"))))))};Object(g.a)(e=>({container:{display:"flex",alignItems:"baseline"},h2:{fontSize:"2rem",color:e.palette.common.white,margin:e.spacing(3),textTransform:"capitalize"},button:{},carousel:{width:"85%",height:"100%",margin:"auto"},arrow:{cursor:"pointer",position:"absolute",top:0,bottom:60,width:"20%",display:"flex",alignItems:"center",background:"rgba(0,0,0,.5)",color:e.palette.common.white,zIndex:1,"&.prevArrow":{left:0,justifyContent:"flex-start",background:" linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(0,0,37,0) 100%)",opacity:e=>{let{currentSlide:t}=e;return t?1:0}},"&.nextArrow":{right:0,justifyContent:"flex-end",background:" linear-gradient(90deg, rgba(0,0,37,0) 0%, rgba(0,0,0,1) 100%)",opacity:e=>{let{currentSlide:t,slideCount:a}=e;return t===a?0:1}}},slider:{"& .slick-slide":{padding:e.spacing(1)}}}));var E=a(254),w=a(235);class y extends o.Component{componentDidMount(){const{movies:e,showtimes:t,suggested:a,getMovies:o,getShowtimes:i,getMovieSuggestion:n,user:r}=this.props;console.log("HomePage mounted, movies:",e),o(),console.log("Fetching movies..."),t&&0!==t.length||i(),r&&(a&&0!==a.length||n(r.username))}componentDidUpdate(e){this.props.user!==e.user&&this.props.user&&this.props.getMovieSuggestion(this.props.user.username)}render(){const{classes:e,randomMovie:t,comingSoon:a,nowShowing:n,suggested:l}=this.props;return i.a.createElement(o.Fragment,null,i.a.createElement(E.a,{movie:t,height:"85vh"}),i.a.createElement(r.a,{height:60}),i.a.createElement(w.a,{maxWidth:"lg",style:{marginTop:"40px"}},i.a.createElement(d.a,{variant:"h4",style:{color:"white",marginBottom:"30px",textAlign:"center"}},"All Movies"),this.props.movies&&this.props.movies.length>0?i.a.createElement(c.a,{container:!0,spacing:3},this.props.movies.map((e,t)=>i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:e._id},i.a.createElement(x,{movie:e,index:t})))):i.a.createElement("div",{style:{textAlign:"center",padding:"50px",color:"white"}},i.a.createElement("h3",null,"Loading movies..."))),!1)}}const S={getMovies:s.j,getShowtimes:s.l,getMovieSuggestion:s.i};var k=Object(n.b)(e=>{let{movieState:t,showtimeState:a,authState:o}=e;return{movies:t.movies,randomMovie:t.randomMovie,latestMovies:t.latestMovies,comingSoon:t.comingSoon,nowShowing:t.nowShowing,showtimes:a.showtimes,suggested:t.suggested,user:o.user}},S)(Object(l.a)(e=>({grid:{height:"100%"},carousel:{marginBottom:e.spacing(6)}}))(y))}}]);