{"version":3,"sources":["pages/TheatreOwner/Account.js","pages/Public/MyDashboard/components/MyReservationTable/MyReservationTable.js","pages/Public/MyDashboard/components/MyReservationTable/styles.js","pages/Public/MyDashboard/MyDashboard.js"],"names":["Account","React","createElement","style","padding","ReservationsTable","Component","constructor","arguments","state","rowsPerPage","page","handleChangePage","event","this","setState","handleChangeRowsPerPage","target","value","onFindAttr","id","list","attr","item","find","_id","concat","render","classes","className","reservations","movies","cinemas","props","rootClassName","classNames","root","Portlet","PortletContent","noPadding","Table","TableHead","TableRow","TableCell","align","TableBody","slice","map","reservation","tableRow","hover","key","tableCell","movieId","cinemaId","Date","date","toLocaleDateString","startAt","ticketPrice","total","TablePagination","backIconButtonProps","component","count","length","nextIconButtonProps","onChangePage","onChangeRowsPerPage","rowsPerPageOptions","defaultProps","onSelect","onShowDetails","withStyles","theme","height","whiteSpace","tableCellInner","display","alignItems","avatar","backgroundColor","palette","primary","main","fontSize","fontWeight","width","nameText","marginLeft","spacing","cursor","useStyles","makeStyles","title","lineHeight","textAlign","textTransform","marginTop","marginBottom","breakpoints","down","fullWidth","mapDispatchToProps","getMovies","getReservations","getCinemas","connect","_ref","authState","movieState","reservationState","cinemaState","user","useEffect","myReservations","filter","username","console","log","Container","Grid","container","Fragment","xs","Typography","variant","color","MyReservationTable"],"mappings":"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","file":"static/js/18.516516f0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Account = () => {\r\n  return (\r\n    <div style={{ padding: \"2rem\" }}>\r\n      <h2>Theatre Owner Account Page</h2>\r\n      <p>This is a placeholder for account settings and details.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TablePagination\n} from '@material-ui/core';\n\nimport { Portlet, PortletContent } from '../../../../../components';\nimport styles from './styles';\n\nclass ReservationsTable extends Component {\n  state = {\n    rowsPerPage: 10,\n    page: 0\n  };\n\n  static propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object.isRequired,\n    onSelect: PropTypes.func,\n    onShowDetails: PropTypes.func,\n    reservations: PropTypes.array.isRequired,\n    movies: PropTypes.array.isRequired,\n    cinemas: PropTypes.array.isRequired\n  };\n\n  static defaultProps = {\n    reservations: [],\n    movies: [],\n    cinemas: [],\n    onSelect: () => {},\n    onShowDetails: () => {}\n  };\n\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };\n\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };\n\n  onFindAttr = (id, list, attr) => {\n    const item = list.find(item => item._id === id);\n    return item ? item[attr] : `Not ${attr} Found`;\n  };\n\n  render() {\n    const { classes, className, reservations, movies, cinemas } = this.props;\n    const { rowsPerPage, page } = this.state;\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <Portlet className={rootClassName}>\n        <PortletContent noPadding>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">Movie</TableCell>\n                <TableCell align=\"left\">Cinema</TableCell>\n                <TableCell align=\"left\">Date</TableCell>\n                <TableCell align=\"left\">Start At</TableCell>\n                <TableCell align=\"left\">Ticket Price</TableCell>\n                <TableCell align=\"left\">Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {reservations\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map(reservation => (\n                  <TableRow\n                    className={classes.tableRow}\n                    hover\n                    key={reservation._id}>\n                    <TableCell className={classes.tableCell}>\n                      {this.onFindAttr(reservation.movieId, movies, 'title')}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {this.onFindAttr(reservation.cinemaId, cinemas, 'name')}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {new Date(reservation.date).toLocaleDateString()}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.startAt}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.ticketPrice}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.total}\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n          <TablePagination\n            backIconButtonProps={{\n              'aria-label': 'Previous Page'\n            }}\n            component=\"div\"\n            count={reservations.length}\n            nextIconButtonProps={{\n              'aria-label': 'Next Page'\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\n            page={page}\n            rowsPerPage={rowsPerPage}\n            rowsPerPageOptions={[5, 10, 25]}\n          />\n        </PortletContent>\n      </Portlet>\n    );\n  }\n}\n\nexport default withStyles(styles)(ReservationsTable);\n","export default theme => ({\n  root: {},\n  tableRow: {\n    height: '64px'\n  },\n  tableCell: {\n    whiteSpace: 'nowrap'\n  },\n  tableCellInner: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  avatar: {\n    backgroundColor: theme.palette.primary.main,\n    display: 'inline-flex',\n    fontSize: '14px',\n    fontWeight: 500,\n    height: '36px',\n    width: '36px'\n  },\n  nameText: {\n    display: 'inline-block',\n    marginLeft: theme.spacing(2),\n    fontWeight: 500,\n    cursor: 'pointer'\n  }\n});\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles, Grid, Typography, Container } from '@material-ui/core';\nimport { getMovies, getReservations, getCinemas } from '../../../store/actions';\nimport { MyReservationTable } from './components';\nimport Account from '../../TheatreOwner/Account';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    fontSize: '3rem',\n    lineHeight: '3rem',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n    marginTop: theme.spacing(15),\n    marginBottom: theme.spacing(3)\n  },\n  [theme.breakpoints.down('sm')]: {\n    fullWidth: { width: '100%' }\n  }\n}));\n\nfunction MyDashboard(props) {\n  const {\n    user,\n    reservations,\n    movies,\n    cinemas,\n    getMovies,\n    getReservations,\n    getCinemas\n  } = props;\n\n  useEffect(() => {\n    getMovies();\n    getReservations();\n    getCinemas();\n  }, [getMovies, getReservations, getCinemas]);\n\n  const classes = useStyles(props);\n\n  const myReservations = reservations.filter(\n    reservation => reservation.username === user.username\n  );\n\n  console.log(myReservations);\n\n  return (\n    <Container>\n      <Grid container spacing={2}>\n        {!!myReservations.length && (\n          <>\n            <Grid item xs={12}>\n              <Typography\n                className={classes.title}\n                variant=\"h2\"\n                color=\"inherit\">\n                My Reservations\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <MyReservationTable\n                reservations={myReservations}\n                movies={movies}\n                cinemas={cinemas}\n              />\n            </Grid>\n          </>\n        )}\n        <Grid item xs={12}>\n          <Typography className={classes.title} variant=\"h2\" color=\"inherit\">\n            My Account\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Account />\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nconst mapStateToProps = ({\n  authState,\n  movieState,\n  reservationState,\n  cinemaState\n}) => ({\n  user: authState.user,\n  movies: movieState.movies,\n  reservations: reservationState.reservations,\n  cinemas: cinemaState.cinemas\n});\n\nconst mapDispatchToProps = { getMovies, getReservations, getCinemas };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyDashboard);\n"],"sourceRoot":""}